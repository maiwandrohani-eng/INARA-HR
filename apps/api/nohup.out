INFO:     Will watch for changes in these directories: ['/Users/maiwand/INARA-HR/apps/api']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [20787] using WatchFiles
INFO:     Started server process [20826]
INFO:     Waiting for application startup.
2025-12-11 10:01:37,699 - main - INFO - üöÄ Starting INARA HRIS API...
2025-12-11 10:01:37,699 - main - INFO - Environment: development
2025-12-11 10:01:37,699 - main - INFO - Debug Mode: True
2025-12-11 10:01:37,707 - core.cache - WARNING - Redis connection failed: Error 61 connecting to localhost:6379. Connection refused.. Caching disabled.
2025-12-11 10:01:37,707 - main - INFO - Verifying database connection...
2025-12-11 10:01:37,714 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-11 10:01:37,714 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-11 10:01:37,714 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:01:37,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:01:37,716 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-11 10:01:37,716 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-11 10:01:37,716 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:01:37,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:01:37,717 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-11 10:01:37,717 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-11 10:01:37,717 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:01:37,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:01:37,718 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:01:37,718 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:01:37,718 INFO sqlalchemy.engine.Engine SELECT 1
2025-12-11 10:01:37,718 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-12-11 10:01:37,718 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
2025-12-11 10:01:37,718 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2025-12-11 10:01:37,719 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:01:37,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:01:37,719 - core.database - INFO - ‚úÖ Database connection verified
2025-12-11 10:01:37,719 - core.monitoring - INFO - Database monitoring started
2025-12-11 10:01:37,719 - main - INFO - üìä Database monitoring enabled
2025-12-11 10:01:37,719 - main - INFO - ‚úÖ All systems initialized successfully
2025-12-11 10:01:37,719 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
INFO:     Application startup complete.
2025-12-11 10:01:56,548 - main - INFO - üåê GET /health - Client: 127.0.0.1
2025-12-11 10:01:56,549 - main - INFO - ‚úÖ GET /health - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:65498 - "GET /health HTTP/1.1" 200 OK
2025-12-11 10:02:37,720 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:03:37,723 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:04:37,723 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:05:06,901 - main - INFO - üåê OPTIONS /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:05:06,903 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/login - Status: 200 - Time: 0.0010s
INFO:     127.0.0.1:49211 - "OPTIONS /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:05:06,904 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:05:06,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:06,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:06,971 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:05:06,971 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:05:06,971 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('maiwand@inara.org',)
2025-12-11 10:05:06,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('maiwand@inara.org',)
2025-12-11 10:05:06,978 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:06,978 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:06,978 INFO sqlalchemy.engine.Engine [generated in 0.00020s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:06,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:06,983 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:06,983 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:06,983 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:06,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,254 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:05:07,254 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:05:07,254 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1be84a0e-7570-48b1-9bed-4c9455f0ef8c'), datetime.datetime(2025, 12, 11, 7, 5, 7, 254435), datetime.datetime(2025, 12, 11, 7, 5, 7, 254440), False, None)
2025-12-11 10:05:07,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1be84a0e-7570-48b1-9bed-4c9455f0ef8c'), datetime.datetime(2025, 12, 11, 7, 5, 7, 254435), datetime.datetime(2025, 12, 11, 7, 5, 7, 254440), False, None)
2025-12-11 10:05:07,261 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,261 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,261 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,261 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,264 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,264 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,264 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,264 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,267 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,267 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,267 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,267 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,323 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,323 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,323 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,323 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,328 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:05:07,328 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:05:07,328 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (datetime.datetime(2025, 12, 11, 7, 5, 7, 327086), datetime.datetime(2025, 12, 11, 7, 5, 7, 328110), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:05:07,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (datetime.datetime(2025, 12, 11, 7, 5, 7, 327086), datetime.datetime(2025, 12, 11, 7, 5, 7, 328110), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:05:07,329 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:05:07,329 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:05:07,341 - modules.auth.services - INFO - User maiwand@inara.org logged in successfully
2025-12-11 10:05:07,342 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.4378s
INFO:     127.0.0.1:49211 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:05:07,344 - main - INFO - üåê OPTIONS /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:05:07,344 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/me - Status: 200 - Time: 0.0002s
INFO:     127.0.0.1:49211 - "OPTIONS /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:05:07,345 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:05:07,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:07,346 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:07,347 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,347 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,347 INFO sqlalchemy.engine.Engine [cached since 0.08582s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,347 - sqlalchemy.engine.Engine - INFO - [cached since 0.08582s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,348 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,348 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,348 INFO sqlalchemy.engine.Engine [cached since 0.0844s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.0844s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,350 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,350 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,350 INFO sqlalchemy.engine.Engine [cached since 0.0832s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,350 - sqlalchemy.engine.Engine - INFO - [cached since 0.0832s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,351 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,351 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,351 INFO sqlalchemy.engine.Engine [cached since 0.02773s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,351 - sqlalchemy.engine.Engine - INFO - [cached since 0.02773s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,352 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,352 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,352 INFO sqlalchemy.engine.Engine [cached since 0.09138s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,352 - sqlalchemy.engine.Engine - INFO - [cached since 0.09138s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,353 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,353 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,353 INFO sqlalchemy.engine.Engine [cached since 0.08937s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,353 - sqlalchemy.engine.Engine - INFO - [cached since 0.08937s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,354 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,354 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,354 INFO sqlalchemy.engine.Engine [cached since 0.08742s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,354 - sqlalchemy.engine.Engine - INFO - [cached since 0.08742s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,355 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,355 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,355 INFO sqlalchemy.engine.Engine [cached since 0.03195s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,355 - sqlalchemy.engine.Engine - INFO - [cached since 0.03195s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,358 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0129s
INFO:     127.0.0.1:49213 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:05:07,358 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:07,358 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:07,642 - main - INFO - üåê OPTIONS /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,642 - main - INFO - üåê OPTIONS /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,643 - main - INFO - ‚úÖ OPTIONS /api/v1/dashboard/employee - Status: 200 - Time: 0.0010s
INFO:     127.0.0.1:49213 - "OPTIONS /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,644 - main - INFO - ‚úÖ OPTIONS /api/v1/dashboard/employee - Status: 200 - Time: 0.0011s
INFO:     127.0.0.1:49211 - "OPTIONS /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,702 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,706 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:07,706 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:07,706 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,706 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,706 INFO sqlalchemy.engine.Engine [cached since 0.4451s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,706 - sqlalchemy.engine.Engine - INFO - [cached since 0.4451s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,707 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,707 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,707 INFO sqlalchemy.engine.Engine [cached since 0.4433s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,707 - sqlalchemy.engine.Engine - INFO - [cached since 0.4433s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,709 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,709 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,709 INFO sqlalchemy.engine.Engine [cached since 0.4428s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,709 - sqlalchemy.engine.Engine - INFO - [cached since 0.4428s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,710 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,710 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,710 INFO sqlalchemy.engine.Engine [cached since 0.3872s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,710 - sqlalchemy.engine.Engine - INFO - [cached since 0.3872s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,714 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,714 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,714 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,714 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,716 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,716 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,716 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,720 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,720 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,720 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,723 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,723 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,723 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,723 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,726 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0237s
INFO:     127.0.0.1:49215 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,726 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:07,726 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:07,727 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,728 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:07,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:07,728 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,728 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,728 INFO sqlalchemy.engine.Engine [cached since 0.4676s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.4676s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,729 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,729 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,729 INFO sqlalchemy.engine.Engine [cached since 0.4657s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.4657s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,731 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,731 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,731 INFO sqlalchemy.engine.Engine [cached since 0.464s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,731 - sqlalchemy.engine.Engine - INFO - [cached since 0.464s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,731 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,731 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,731 INFO sqlalchemy.engine.Engine [cached since 0.4083s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,731 - sqlalchemy.engine.Engine - INFO - [cached since 0.4083s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,732 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,732 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,732 INFO sqlalchemy.engine.Engine [cached since 0.01861s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.01861s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,734 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,734 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,734 INFO sqlalchemy.engine.Engine [cached since 0.01801s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.01801s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,735 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,735 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,735 INFO sqlalchemy.engine.Engine [cached since 0.01547s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.01547s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,736 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,736 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,736 INFO sqlalchemy.engine.Engine [cached since 0.01286s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.01286s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,737 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0101s
INFO:     127.0.0.1:49215 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,737 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:07,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:07,738 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:07,739 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:07,740 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,740 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,740 INFO sqlalchemy.engine.Engine [cached since 0.4788s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.4788s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,740 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,740 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,740 INFO sqlalchemy.engine.Engine [cached since 0.4767s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.4767s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,741 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,741 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,741 INFO sqlalchemy.engine.Engine [cached since 0.4744s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,741 - sqlalchemy.engine.Engine - INFO - [cached since 0.4744s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,742 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,742 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,742 INFO sqlalchemy.engine.Engine [cached since 0.4186s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.4186s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,743 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,743 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,743 INFO sqlalchemy.engine.Engine [cached since 0.02889s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.02889s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,743 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,743 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,743 INFO sqlalchemy.engine.Engine [cached since 0.02734s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.02734s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,744 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,744 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,744 INFO sqlalchemy.engine.Engine [cached since 0.02408s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.02408s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,745 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,745 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,745 INFO sqlalchemy.engine.Engine [cached since 0.02133s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,745 - sqlalchemy.engine.Engine - INFO - [cached since 0.02133s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,745 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0074s
INFO:     127.0.0.1:49215 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,745 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:07,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:07,746 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:05:07,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:07,747 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:07,747 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,747 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:07,747 INFO sqlalchemy.engine.Engine [cached since 0.4863s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.4863s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,749 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,749 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:07,749 INFO sqlalchemy.engine.Engine [cached since 0.4852s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,749 - sqlalchemy.engine.Engine - INFO - [cached since 0.4852s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,750 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,750 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:07,750 INFO sqlalchemy.engine.Engine [cached since 0.4832s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,750 - sqlalchemy.engine.Engine - INFO - [cached since 0.4832s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:07,750 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,750 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:07,750 INFO sqlalchemy.engine.Engine [cached since 0.4273s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,750 - sqlalchemy.engine.Engine - INFO - [cached since 0.4273s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:07,751 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,751 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:05:07,751 INFO sqlalchemy.engine.Engine [cached since 0.03739s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.03739s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:05:07,752 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,752 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:05:07,752 INFO sqlalchemy.engine.Engine [cached since 0.03619s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.03619s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:05:07,753 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,753 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:05:07,753 INFO sqlalchemy.engine.Engine [cached since 0.03294s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.03294s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:05:07,753 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,753 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:05:07,754 INFO sqlalchemy.engine.Engine [cached since 0.03022s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,754 - sqlalchemy.engine.Engine - INFO - [cached since 0.03022s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:05:07,754 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0081s
INFO:     127.0.0.1:49215 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:05:07,754 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:07,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:11,559 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:05:11,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:05:11,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:05:11,566 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:11,566 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:05:11,567 INFO sqlalchemy.engine.Engine [cached since 4.306s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,567 - sqlalchemy.engine.Engine - INFO - [cached since 4.306s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,573 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:11,573 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:05:11,574 INFO sqlalchemy.engine.Engine [cached since 4.31s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,574 - sqlalchemy.engine.Engine - INFO - [cached since 4.31s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,575 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:11,575 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:05:11,575 INFO sqlalchemy.engine.Engine [cached since 4.309s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,575 - sqlalchemy.engine.Engine - INFO - [cached since 4.309s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:05:11,576 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:11,576 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:05:11,576 INFO sqlalchemy.engine.Engine [cached since 4.253s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:11,576 - sqlalchemy.engine.Engine - INFO - [cached since 4.253s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:05:11,578 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:05:11,578 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:05:11,578 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2025-12-11 10:05:11,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
2025-12-11 10:05:11,579 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:05:11,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:05:11,580 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist
[SQL: SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/routes.py", line 143, in list_countries
    configs = await repo.get_all()
              ^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 22, in get_all
    result = await self.db.execute(
             ^^^^^^^^^^^^^^^^^^^^^^
        select(CountryConfig).where(CountryConfig.is_deleted == False)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist
[SQL: SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:05:11,591 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist
[SQL: SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/routes.py", line 143, in list_countries
    configs = await repo.get_all()
              ^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 22, in get_all
    result = await self.db.execute(
             ^^^^^^^^^^^^^^^^^^^^^^
        select(CountryConfig).where(CountryConfig.is_deleted == False)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist
[SQL: SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49215 - "GET /api/v1/admin/countries HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/routes.py", line 143, in list_countries
    configs = await repo.get_all()
              ^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 22, in get_all
    result = await self.db.execute(
             ^^^^^^^^^^^^^^^^^^^^^^
        select(CountryConfig).where(CountryConfig.is_deleted == False)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column country_configs.currency_code does not exist
[SQL: SELECT country_configs.country_code, country_configs.country_name, country_configs.currency_code, country_configs.working_hours_per_week, country_configs.annual_leave_days, country_configs.public_holidays, country_configs.probation_period_days, country_configs.notice_period_days, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:05:37,724 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:06:37,731 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
WARNING:  WatchFiles detected changes in 'modules/admin/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-11 10:07:20,973 - main - INFO - üëã Shutting down INARA HRIS API...
2025-12-11 10:07:20,973 - core.monitoring - INFO - Database monitoring stopped
2025-12-11 10:07:20,978 - core.database - INFO - üëã Database connections closed
2025-12-11 10:07:20,978 - main - INFO - ‚úÖ Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [20826]
INFO:     Started server process [54823]
INFO:     Waiting for application startup.
2025-12-11 10:07:22,053 - main - INFO - üöÄ Starting INARA HRIS API...
2025-12-11 10:07:22,053 - main - INFO - Environment: development
2025-12-11 10:07:22,053 - main - INFO - Debug Mode: True
2025-12-11 10:07:22,058 - core.cache - WARNING - Redis connection failed: Error 61 connecting to localhost:6379. Connection refused.. Caching disabled.
2025-12-11 10:07:22,058 - main - INFO - Verifying database connection...
2025-12-11 10:07:22,067 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-11 10:07:22,067 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-11 10:07:22,067 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:22,067 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:22,069 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-11 10:07:22,069 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-11 10:07:22,069 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:22,069 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:22,072 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-11 10:07:22,072 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-11 10:07:22,072 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:22,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:22,074 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:07:22,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:07:22,074 INFO sqlalchemy.engine.Engine SELECT 1
2025-12-11 10:07:22,074 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-12-11 10:07:22,074 INFO sqlalchemy.engine.Engine [generated in 0.00059s] ()
2025-12-11 10:07:22,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ()
2025-12-11 10:07:22,109 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:07:22,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:07:22,109 - core.database - INFO - ‚úÖ Database connection verified
2025-12-11 10:07:22,109 - core.monitoring - INFO - Database monitoring started
2025-12-11 10:07:22,109 - main - INFO - üìä Database monitoring enabled
2025-12-11 10:07:22,109 - main - INFO - ‚úÖ All systems initialized successfully
2025-12-11 10:07:22,110 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'modules/admin/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-11 10:07:28,473 - main - INFO - üëã Shutting down INARA HRIS API...
2025-12-11 10:07:28,473 - core.monitoring - INFO - Database monitoring stopped
2025-12-11 10:07:28,476 - core.database - INFO - üëã Database connections closed
2025-12-11 10:07:28,477 - main - INFO - ‚úÖ Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [54823]
INFO:     Started server process [56081]
INFO:     Waiting for application startup.
2025-12-11 10:07:29,398 - main - INFO - üöÄ Starting INARA HRIS API...
2025-12-11 10:07:29,398 - main - INFO - Environment: development
2025-12-11 10:07:29,398 - main - INFO - Debug Mode: True
2025-12-11 10:07:29,401 - core.cache - WARNING - Redis connection failed: Error 61 connecting to localhost:6379. Connection refused.. Caching disabled.
2025-12-11 10:07:29,401 - main - INFO - Verifying database connection...
2025-12-11 10:07:29,409 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-11 10:07:29,409 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-11 10:07:29,410 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:29,410 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:29,411 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-11 10:07:29,411 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-11 10:07:29,411 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:29,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:29,412 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-11 10:07:29,412 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-11 10:07:29,412 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:29,412 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:29,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:07:29,413 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:07:29,413 INFO sqlalchemy.engine.Engine SELECT 1
2025-12-11 10:07:29,413 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-12-11 10:07:29,413 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
2025-12-11 10:07:29,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
2025-12-11 10:07:29,415 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:07:29,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:07:29,416 - core.database - INFO - ‚úÖ Database connection verified
2025-12-11 10:07:29,416 - core.monitoring - INFO - Database monitoring started
2025-12-11 10:07:29,416 - main - INFO - üìä Database monitoring enabled
2025-12-11 10:07:29,416 - main - INFO - ‚úÖ All systems initialized successfully
2025-12-11 10:07:29,416 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'modules/admin/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-11 10:07:37,108 - main - INFO - üëã Shutting down INARA HRIS API...
2025-12-11 10:07:37,109 - core.monitoring - INFO - Database monitoring stopped
2025-12-11 10:07:37,116 - core.database - INFO - üëã Database connections closed
2025-12-11 10:07:37,117 - main - INFO - ‚úÖ Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [56081]
INFO:     Started server process [57517]
INFO:     Waiting for application startup.
2025-12-11 10:07:37,983 - main - INFO - üöÄ Starting INARA HRIS API...
2025-12-11 10:07:37,983 - main - INFO - Environment: development
2025-12-11 10:07:37,983 - main - INFO - Debug Mode: True
2025-12-11 10:07:37,986 - core.cache - WARNING - Redis connection failed: Error 61 connecting to localhost:6379. Connection refused.. Caching disabled.
2025-12-11 10:07:37,986 - main - INFO - Verifying database connection...
2025-12-11 10:07:37,994 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-11 10:07:37,994 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-11 10:07:37,994 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:37,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:37,997 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-11 10:07:37,997 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-11 10:07:37,997 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:37,997 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:37,997 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-11 10:07:37,997 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-11 10:07:37,997 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:07:37,997 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:07:37,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:07:37,998 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:07:37,998 INFO sqlalchemy.engine.Engine SELECT 1
2025-12-11 10:07:37,998 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-12-11 10:07:37,998 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2025-12-11 10:07:37,998 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ()
2025-12-11 10:07:37,999 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:07:37,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:07:37,999 - core.database - INFO - ‚úÖ Database connection verified
2025-12-11 10:07:37,999 - core.monitoring - INFO - Database monitoring started
2025-12-11 10:07:37,999 - main - INFO - üìä Database monitoring enabled
2025-12-11 10:07:37,999 - main - INFO - ‚úÖ All systems initialized successfully
2025-12-11 10:07:37,999 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'modules/admin/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-11 10:08:23,848 - main - INFO - üëã Shutting down INARA HRIS API...
2025-12-11 10:08:23,848 - core.monitoring - INFO - Database monitoring stopped
2025-12-11 10:08:23,853 - core.database - INFO - üëã Database connections closed
2025-12-11 10:08:23,853 - main - INFO - ‚úÖ Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [57517]
INFO:     Started server process [65426]
INFO:     Waiting for application startup.
2025-12-11 10:08:24,810 - main - INFO - üöÄ Starting INARA HRIS API...
2025-12-11 10:08:24,810 - main - INFO - Environment: development
2025-12-11 10:08:24,810 - main - INFO - Debug Mode: True
2025-12-11 10:08:24,816 - core.cache - WARNING - Redis connection failed: Error 61 connecting to localhost:6379. Connection refused.. Caching disabled.
2025-12-11 10:08:24,816 - main - INFO - Verifying database connection...
2025-12-11 10:08:24,827 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-11 10:08:24,827 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-11 10:08:24,827 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:08:24,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:08:24,828 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-11 10:08:24,828 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-11 10:08:24,828 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:08:24,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:08:24,829 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-11 10:08:24,829 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-11 10:08:24,829 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-11 10:08:24,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-11 10:08:24,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:08:24,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:08:24,830 INFO sqlalchemy.engine.Engine SELECT 1
2025-12-11 10:08:24,830 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-12-11 10:08:24,830 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2025-12-11 10:08:24,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ()
2025-12-11 10:08:24,831 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:08:24,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:08:24,832 - core.database - INFO - ‚úÖ Database connection verified
2025-12-11 10:08:24,832 - core.monitoring - INFO - Database monitoring started
2025-12-11 10:08:24,832 - main - INFO - üìä Database monitoring enabled
2025-12-11 10:08:24,832 - main - INFO - ‚úÖ All systems initialized successfully
2025-12-11 10:08:24,833 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
INFO:     Application startup complete.
2025-12-11 10:08:28,452 - main - INFO - üåê GET /api/admin/countries - Client: 127.0.0.1
2025-12-11 10:08:28,453 - main - INFO - ‚úÖ GET /api/admin/countries - Status: 404 - Time: 0.0007s
INFO:     127.0.0.1:49336 - "GET /api/admin/countries HTTP/1.1" 404 Not Found
2025-12-11 10:08:45,621 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:08:45,622 - core.database - ERROR - Database session error: 403: Not authenticated
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/security/http.py", line 309, in __call__
    raise HTTPException(
        status_code=HTTP_403_FORBIDDEN, detail="Not authenticated"
    )
fastapi.exceptions.HTTPException: 403: Not authenticated
2025-12-11 10:08:45,626 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0048s
INFO:     127.0.0.1:49365 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:09:02,084 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:09:02,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:09:02,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:09:02,149 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:02,149 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:02,149 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,149 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,156 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:02,156 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:02,156 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,156 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,161 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:02,161 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:02,161 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,161 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:02,174 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:02,174 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:02,174 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:02,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:02,177 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:09:02,177 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:09:02,177 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2025-12-11 10:09:02,177 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ()
2025-12-11 10:09:02,182 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0974s
INFO:     127.0.0.1:49377 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:09:02,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:09:02,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:09:13,688 - main - INFO - üåê OPTIONS /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 - Client: 127.0.0.1
2025-12-11 10:09:13,690 - main - INFO - ‚úÖ OPTIONS /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 - Status: 200 - Time: 0.0012s
INFO:     127.0.0.1:49399 - "OPTIONS /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 HTTP/1.1" 200 OK
2025-12-11 10:09:13,691 - main - INFO - üåê DELETE /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 - Client: 127.0.0.1
2025-12-11 10:09:13,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:09:13,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:09:13,694 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:13,694 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:13,694 INFO sqlalchemy.engine.Engine [cached since 11.55s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,694 - sqlalchemy.engine.Engine - INFO - [cached since 11.55s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,695 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:13,695 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:13,695 INFO sqlalchemy.engine.Engine [cached since 11.54s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,695 - sqlalchemy.engine.Engine - INFO - [cached since 11.54s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,696 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:13,696 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:13,696 INFO sqlalchemy.engine.Engine [cached since 11.54s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,696 - sqlalchemy.engine.Engine - INFO - [cached since 11.54s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:13,697 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:13,697 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:13,697 INFO sqlalchemy.engine.Engine [cached since 11.52s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:13,697 - sqlalchemy.engine.Engine - INFO - [cached since 11.52s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:13,699 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID AND country_configs.is_deleted = false
2025-12-11 10:09:13,699 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID AND country_configs.is_deleted = false
2025-12-11 10:09:13,699 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('f2d72002-6678-4e44-afb3-90e1cf12f459'),)
2025-12-11 10:09:13,699 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (UUID('f2d72002-6678-4e44-afb3-90e1cf12f459'),)
2025-12-11 10:09:13,700 INFO sqlalchemy.engine.Engine UPDATE country_configs SET updated_at=$1::TIMESTAMP WITHOUT TIME ZONE, is_deleted=$2::BOOLEAN WHERE country_configs.id = $3::UUID
2025-12-11 10:09:13,700 - sqlalchemy.engine.Engine - INFO - UPDATE country_configs SET updated_at=$1::TIMESTAMP WITHOUT TIME ZONE, is_deleted=$2::BOOLEAN WHERE country_configs.id = $3::UUID
2025-12-11 10:09:13,700 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (datetime.datetime(2025, 12, 11, 7, 9, 13, 700725), True, UUID('f2d72002-6678-4e44-afb3-90e1cf12f459'))
2025-12-11 10:09:13,700 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (datetime.datetime(2025, 12, 11, 7, 9, 13, 700725), True, UUID('f2d72002-6678-4e44-afb3-90e1cf12f459'))
2025-12-11 10:09:13,702 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:09:13,702 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:09:13,704 - main - INFO - ‚úÖ DELETE /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 - Status: 204 - Time: 0.0127s
INFO:     127.0.0.1:49399 - "DELETE /api/v1/admin/countries/f2d72002-6678-4e44-afb3-90e1cf12f459 HTTP/1.1" 204 No Content
2025-12-11 10:09:15,354 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:09:15,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:09:15,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:09:15,357 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:15,357 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:09:15,357 INFO sqlalchemy.engine.Engine [cached since 13.21s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,357 - sqlalchemy.engine.Engine - INFO - [cached since 13.21s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,358 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:15,358 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:09:15,358 INFO sqlalchemy.engine.Engine [cached since 13.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,358 - sqlalchemy.engine.Engine - INFO - [cached since 13.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,360 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:15,360 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:09:15,360 INFO sqlalchemy.engine.Engine [cached since 13.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,360 - sqlalchemy.engine.Engine - INFO - [cached since 13.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:09:15,361 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:15,361 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:09:15,361 INFO sqlalchemy.engine.Engine [cached since 13.19s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:15,361 - sqlalchemy.engine.Engine - INFO - [cached since 13.19s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:09:15,362 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:09:15,362 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:09:15,362 INFO sqlalchemy.engine.Engine [cached since 13.18s ago] ()
2025-12-11 10:09:15,362 - sqlalchemy.engine.Engine - INFO - [cached since 13.18s ago] ()
2025-12-11 10:09:15,362 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0078s
INFO:     127.0.0.1:49399 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:09:15,362 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:09:15,362 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:09:24,833 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:10:24,813 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:10:55,759 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:10:55,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:10:55,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:10:55,767 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:10:55,767 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:10:55,767 INFO sqlalchemy.engine.Engine [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,767 - sqlalchemy.engine.Engine - INFO - [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,774 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:10:55,774 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:10:55,774 INFO sqlalchemy.engine.Engine [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,774 - sqlalchemy.engine.Engine - INFO - [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,775 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:10:55,775 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:10:55,775 INFO sqlalchemy.engine.Engine [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,775 - sqlalchemy.engine.Engine - INFO - [cached since 113.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:10:55,776 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:10:55,776 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:10:55,777 INFO sqlalchemy.engine.Engine [cached since 113.6s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:10:55,777 - sqlalchemy.engine.Engine - INFO - [cached since 113.6s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:10:55,778 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:10:55,778 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:10:55,778 INFO sqlalchemy.engine.Engine [cached since 113.6s ago] ()
2025-12-11 10:10:55,778 - sqlalchemy.engine.Engine - INFO - [cached since 113.6s ago] ()
2025-12-11 10:10:55,780 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0206s
INFO:     127.0.0.1:49466 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:10:55,780 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:10:55,780 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:11:15,508 - main - INFO - üåê OPTIONS /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:11:15,509 - main - INFO - ‚úÖ OPTIONS /api/v1/admin/countries - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:49471 - "OPTIONS /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:11:15,511 - main - INFO - üåê POST /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:11:15,515 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:11:15,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:11:15,515 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:11:15,515 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:11:15,515 INFO sqlalchemy.engine.Engine [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,515 - sqlalchemy.engine.Engine - INFO - [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,518 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:11:15,518 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:11:15,518 INFO sqlalchemy.engine.Engine [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,518 - sqlalchemy.engine.Engine - INFO - [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,521 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:11:15,521 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:11:15,521 INFO sqlalchemy.engine.Engine [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,521 - sqlalchemy.engine.Engine - INFO - [cached since 133.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:15,525 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:11:15,525 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:11:15,526 INFO sqlalchemy.engine.Engine [cached since 133.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:11:15,526 - sqlalchemy.engine.Engine - INFO - [cached since 133.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:11:15,529 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:11:15,529 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:11:15,529 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('AF',)
2025-12-11 10:11:15,529 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('AF',)
2025-12-11 10:11:15,533 INFO sqlalchemy.engine.Engine INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:11:15,533 - sqlalchemy.engine.Engine - INFO - INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:11:15,533 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('AF', 'Afghanistan', 'AFN', 'Asia/Kabul', 40.0, 5, None, True, UUID('b41c031e-5f42-4d9f-aaa9-65d4bba39a17'), datetime.datetime(2025, 12, 11, 7, 11, 15, 532959), datetime.datetime(2025, 12, 11, 7, 11, 15, 532962), False, None)
2025-12-11 10:11:15,533 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('AF', 'Afghanistan', 'AFN', 'Asia/Kabul', 40.0, 5, None, True, UUID('b41c031e-5f42-4d9f-aaa9-65d4bba39a17'), datetime.datetime(2025, 12, 11, 7, 11, 15, 532959), datetime.datetime(2025, 12, 11, 7, 11, 15, 532962), False, None)
2025-12-11 10:11:15,537 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:11:15,537 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:11:15,537 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (UUID('b41c031e-5f42-4d9f-aaa9-65d4bba39a17'),)
2025-12-11 10:11:15,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (UUID('b41c031e-5f42-4d9f-aaa9-65d4bba39a17'),)
2025-12-11 10:11:15,540 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:11:15,540 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:11:15,544 - main - INFO - ‚úÖ POST /api/v1/admin/countries - Status: 201 - Time: 0.0334s
INFO:     127.0.0.1:49471 - "POST /api/v1/admin/countries HTTP/1.1" 201 Created
2025-12-11 10:11:17,683 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:11:17,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:11:17,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:11:17,691 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:11:17,691 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:11:17,691 INFO sqlalchemy.engine.Engine [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,691 - sqlalchemy.engine.Engine - INFO - [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,692 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:11:17,692 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:11:17,692 INFO sqlalchemy.engine.Engine [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,692 - sqlalchemy.engine.Engine - INFO - [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,693 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:11:17,693 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:11:17,693 INFO sqlalchemy.engine.Engine [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,693 - sqlalchemy.engine.Engine - INFO - [cached since 135.6s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:11:17,694 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:11:17,694 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:11:17,694 INFO sqlalchemy.engine.Engine [cached since 135.6s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:11:17,694 - sqlalchemy.engine.Engine - INFO - [cached since 135.6s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:11:17,695 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:11:17,695 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:11:17,695 INFO sqlalchemy.engine.Engine [cached since 135.6s ago] ()
2025-12-11 10:11:17,695 - sqlalchemy.engine.Engine - INFO - [cached since 135.6s ago] ()
2025-12-11 10:11:17,696 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0128s
INFO:     127.0.0.1:49471 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:11:17,697 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:11:17,697 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:11:24,795 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:12:24,795 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:13:24,796 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:14:19,965 - main - INFO - üåê OPTIONS /api/v1/admin/settings - Client: 127.0.0.1
2025-12-11 10:14:19,967 - main - INFO - ‚úÖ OPTIONS /api/v1/admin/settings - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:49526 - "OPTIONS /api/v1/admin/settings HTTP/1.1" 200 OK
2025-12-11 10:14:19,968 - main - INFO - üåê GET /api/v1/admin/settings - Client: 127.0.0.1
2025-12-11 10:14:19,971 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:14:19,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:14:19,971 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:14:19,971 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:14:19,971 INFO sqlalchemy.engine.Engine [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,971 - sqlalchemy.engine.Engine - INFO - [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,972 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:14:19,972 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:14:19,972 INFO sqlalchemy.engine.Engine [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,972 - sqlalchemy.engine.Engine - INFO - [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,972 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:14:19,972 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:14:19,973 INFO sqlalchemy.engine.Engine [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,973 - sqlalchemy.engine.Engine - INFO - [cached since 317.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:14:19,973 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:14:19,973 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:14:19,973 INFO sqlalchemy.engine.Engine [cached since 317.8s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:14:19,973 - sqlalchemy.engine.Engine - INFO - [cached since 317.8s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:14:19,974 - main - INFO - ‚úÖ GET /api/v1/admin/settings - Status: 200 - Time: 0.0055s
INFO:     127.0.0.1:49526 - "GET /api/v1/admin/settings HTTP/1.1" 200 OK
2025-12-11 10:14:19,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:14:19,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:14:24,796 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:15:24,797 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:15:53,322 - main - INFO - üåê OPTIONS /api/v1/compensation/salary-bands - Client: 127.0.0.1
2025-12-11 10:15:53,323 - main - INFO - ‚úÖ OPTIONS /api/v1/compensation/salary-bands - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:49587 - "OPTIONS /api/v1/compensation/salary-bands HTTP/1.1" 200 OK
2025-12-11 10:15:53,324 - main - INFO - üåê GET /api/v1/compensation/salary-bands - Client: 127.0.0.1
2025-12-11 10:15:53,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:15:53,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:15:53,328 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:15:53,328 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:15:53,328 INFO sqlalchemy.engine.Engine [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,328 - sqlalchemy.engine.Engine - INFO - [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,330 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:15:53,330 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:15:53,330 INFO sqlalchemy.engine.Engine [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,330 - sqlalchemy.engine.Engine - INFO - [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,331 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:15:53,331 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:15:53,331 INFO sqlalchemy.engine.Engine [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,331 - sqlalchemy.engine.Engine - INFO - [cached since 411.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:15:53,332 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:15:53,332 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:15:53,332 INFO sqlalchemy.engine.Engine [cached since 411.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:15:53,332 - sqlalchemy.engine.Engine - INFO - [cached since 411.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:15:53,333 INFO sqlalchemy.engine.Engine SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false
2025-12-11 10:15:53,333 - sqlalchemy.engine.Engine - INFO - SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false
2025-12-11 10:15:53,333 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
2025-12-11 10:15:53,333 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ()
2025-12-11 10:15:53,337 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:15:53,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:15:53,337 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist
[SQL: SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/compensation/routes.py", line 29, in list_salary_bands
    bands = await repo.get_all(country_code=country_code)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 81, in get_all
    result = await self.db.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist
[SQL: SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:15:53,352 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist
[SQL: SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/compensation/routes.py", line 29, in list_salary_bands
    bands = await repo.get_all(country_code=country_code)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 81, in get_all
    result = await self.db.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist
[SQL: SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49587 - "GET /api/v1/compensation/salary-bands HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/compensation/routes.py", line 29, in list_salary_bands
    bands = await repo.get_all(country_code=country_code)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/admin/repositories.py", line 81, in get_all
    result = await self.db.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column salary_bands.name does not exist
[SQL: SELECT salary_bands.name, salary_bands.level, salary_bands.min_salary, salary_bands.max_salary, salary_bands.currency_code, salary_bands.country_code, salary_bands.description, salary_bands.is_active, salary_bands.id, salary_bands.created_at, salary_bands.updated_at, salary_bands.is_deleted, salary_bands.deleted_at 
FROM salary_bands 
WHERE salary_bands.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:16:08,008 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:16:08,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:16:08,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:16:08,016 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:16:08,016 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:16:08,016 INFO sqlalchemy.engine.Engine [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,016 - sqlalchemy.engine.Engine - INFO - [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,017 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:16:08,017 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:16:08,017 INFO sqlalchemy.engine.Engine [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,017 - sqlalchemy.engine.Engine - INFO - [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,019 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:16:08,019 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:16:08,019 INFO sqlalchemy.engine.Engine [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,019 - sqlalchemy.engine.Engine - INFO - [cached since 425.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:16:08,021 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:16:08,021 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:16:08,021 INFO sqlalchemy.engine.Engine [cached since 425.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:16:08,021 - sqlalchemy.engine.Engine - INFO - [cached since 425.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:16:08,022 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:16:08,022 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:16:08,022 INFO sqlalchemy.engine.Engine [cached since 425.9s ago] ()
2025-12-11 10:16:08,022 - sqlalchemy.engine.Engine - INFO - [cached since 425.9s ago] ()
2025-12-11 10:16:08,023 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0139s
INFO:     127.0.0.1:49589 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:16:08,023 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:16:08,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:16:24,799 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:17:24,801 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:18:24,802 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:19:14,807 - main - INFO - üåê POST /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:19:14,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:14,832 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:14,833 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:14,833 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:14,833 INFO sqlalchemy.engine.Engine [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,833 - sqlalchemy.engine.Engine - INFO - [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,837 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:14,837 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:14,837 INFO sqlalchemy.engine.Engine [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,837 - sqlalchemy.engine.Engine - INFO - [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,840 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:14,840 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:14,840 INFO sqlalchemy.engine.Engine [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,840 - sqlalchemy.engine.Engine - INFO - [cached since 612.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:14,842 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:14,842 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:14,842 INFO sqlalchemy.engine.Engine [cached since 612.7s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:14,842 - sqlalchemy.engine.Engine - INFO - [cached since 612.7s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:14,843 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:19:14,843 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:19:14,843 INFO sqlalchemy.engine.Engine [cached since 479.3s ago] ('EG',)
2025-12-11 10:19:14,843 - sqlalchemy.engine.Engine - INFO - [cached since 479.3s ago] ('EG',)
2025-12-11 10:19:14,844 INFO sqlalchemy.engine.Engine INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:19:14,844 - sqlalchemy.engine.Engine - INFO - INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:19:14,845 INFO sqlalchemy.engine.Engine [cached since 479.3s ago] ('EG', 'Egypt', 'EGP', 'Africa/Cairo', 40.0, 5, None, True, UUID('1b8ef919-5fc3-457f-9797-ef0f980485b3'), datetime.datetime(2025, 12, 11, 7, 19, 14, 844973), datetime.datetime(2025, 12, 11, 7, 19, 14, 844976), False, None)
2025-12-11 10:19:14,845 - sqlalchemy.engine.Engine - INFO - [cached since 479.3s ago] ('EG', 'Egypt', 'EGP', 'Africa/Cairo', 40.0, 5, None, True, UUID('1b8ef919-5fc3-457f-9797-ef0f980485b3'), datetime.datetime(2025, 12, 11, 7, 19, 14, 844973), datetime.datetime(2025, 12, 11, 7, 19, 14, 844976), False, None)
2025-12-11 10:19:14,846 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:19:14,846 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:19:14,846 INFO sqlalchemy.engine.Engine [cached since 479.3s ago] (UUID('1b8ef919-5fc3-457f-9797-ef0f980485b3'),)
2025-12-11 10:19:14,846 - sqlalchemy.engine.Engine - INFO - [cached since 479.3s ago] (UUID('1b8ef919-5fc3-457f-9797-ef0f980485b3'),)
2025-12-11 10:19:14,846 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:19:14,846 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:19:14,847 - main - INFO - ‚úÖ POST /api/v1/admin/countries - Status: 201 - Time: 0.0394s
INFO:     127.0.0.1:49655 - "POST /api/v1/admin/countries HTTP/1.1" 201 Created
2025-12-11 10:19:16,482 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:19:16,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:16,485 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:16,486 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:16,486 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:16,486 INFO sqlalchemy.engine.Engine [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,486 - sqlalchemy.engine.Engine - INFO - [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,487 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:16,487 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:16,487 INFO sqlalchemy.engine.Engine [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,487 - sqlalchemy.engine.Engine - INFO - [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,488 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:16,488 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:16,488 INFO sqlalchemy.engine.Engine [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,488 - sqlalchemy.engine.Engine - INFO - [cached since 614.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:16,489 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:16,489 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:16,489 INFO sqlalchemy.engine.Engine [cached since 614.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:16,489 - sqlalchemy.engine.Engine - INFO - [cached since 614.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:16,491 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:19:16,491 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:19:16,491 INFO sqlalchemy.engine.Engine [cached since 614.4s ago] ()
2025-12-11 10:19:16,491 - sqlalchemy.engine.Engine - INFO - [cached since 614.4s ago] ()
2025-12-11 10:19:16,494 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0110s
INFO:     127.0.0.1:49655 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:19:16,494 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:16,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:24,493 - main - INFO - üåê OPTIONS /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:19:24,494 - main - INFO - üåê OPTIONS /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:19:24,494 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/departments - Status: 200 - Time: 0.0007s
INFO:     127.0.0.1:49658 - "OPTIONS /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:19:24,495 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/positions - Status: 200 - Time: 0.0006s
INFO:     127.0.0.1:49659 - "OPTIONS /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:19:24,496 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:19:24,496 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:19:24,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:24,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:24,502 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:24,502 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:24,502 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,502 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,503 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:24,503 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:24,503 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,503 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,504 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:24,504 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:24,504 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,504 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,505 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:24,505 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:24,505 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:24,505 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:24,505 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,505 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,506 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:24,506 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:24,506 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:24,506 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:24,507 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:19:24,507 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:19:24,507 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2025-12-11 10:19:24,507 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ()
2025-12-11 10:19:24,512 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:24,512 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:24,512 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,512 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,512 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0167s
INFO:     127.0.0.1:49658 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:19:24,513 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:24,513 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:24,515 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:24,515 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:24,515 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,515 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:24,530 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:24,530 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:24,530 INFO sqlalchemy.engine.Engine [cached since 622.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:24,530 - sqlalchemy.engine.Engine - INFO - [cached since 622.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:24,533 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:19:24,533 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:19:24,533 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2025-12-11 10:19:24,533 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
2025-12-11 10:19:24,535 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0387s
INFO:     127.0.0.1:49659 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:19:24,535 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:24,535 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:24,803 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:19:29,044 - main - INFO - üåê OPTIONS /api/v1/auth/users - Client: 127.0.0.1
2025-12-11 10:19:29,045 - main - INFO - üåê OPTIONS /api/v1/auth/roles - Client: 127.0.0.1
2025-12-11 10:19:29,045 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/users - Status: 200 - Time: 0.0012s
INFO:     127.0.0.1:49659 - "OPTIONS /api/v1/auth/users HTTP/1.1" 200 OK
2025-12-11 10:19:29,047 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/roles - Status: 200 - Time: 0.0016s
INFO:     127.0.0.1:49658 - "OPTIONS /api/v1/auth/roles HTTP/1.1" 200 OK
2025-12-11 10:19:29,047 - main - INFO - üåê GET /api/v1/auth/users - Client: 127.0.0.1
2025-12-11 10:19:29,049 - main - INFO - üåê GET /api/v1/auth/roles - Client: 127.0.0.1
2025-12-11 10:19:29,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:29,050 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:29,051 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:29,051 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:29,051 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,051 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:29,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:29,051 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:29,051 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:29,051 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,051 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,052 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:29,052 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:29,052 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,052 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:29,053 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:29,053 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:29,054 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:29,054 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:29,054 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,054 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:29,055 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:29,055 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:29,055 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (100, 0)
2025-12-11 10:19:29,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (100, 0)
2025-12-11 10:19:29,055 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:29,055 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:29,055 INFO sqlalchemy.engine.Engine [cached since 626.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:29,055 - sqlalchemy.engine.Engine - INFO - [cached since 626.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:29,057 INFO sqlalchemy.engine.Engine SELECT roles.name, roles.display_name, roles.description, roles.is_system, roles.id, roles.created_at, roles.updated_at, roles.is_deleted, roles.deleted_at 
FROM roles 
WHERE roles.is_deleted = false
2025-12-11 10:19:29,057 - sqlalchemy.engine.Engine - INFO - SELECT roles.name, roles.display_name, roles.description, roles.is_system, roles.id, roles.created_at, roles.updated_at, roles.is_deleted, roles.deleted_at 
FROM roles 
WHERE roles.is_deleted = false
2025-12-11 10:19:29,057 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2025-12-11 10:19:29,057 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
2025-12-11 10:19:29,060 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::UUID, $7::UUID, $8::UUID, $9::UUID, $10::UUID, $11::UUID, $12::UUID, $13::UUID, $14::UUID, $15::UUID, $16::UUID, $17::UUID, $18::UUID, $19::UUID, $20::UUID, $21::UUID, $22::UUID, $23::UUID, $24::UUID, $25::UUID, $26::UUID, $27::UUID, $28::UUID, $29::UUID, $30::UUID, $31::UUID, $32::UUID, $33::UUID, $34::UUID, $35::UUID, $36::UUID, $37::UUID, $38::UUID, $39::UUID, $40::UUID, $41::UUID, $42::UUID, $43::UUID, $44::UUID, $45::UUID, $46::UUID, $47::UUID, $48::UUID, $49::UUID, $50::UUID, $51::UUID, $52::UUID, $53::UUID, $54::UUID, $55::UUID, $56::UUID, $57::UUID, $58::UUID, $59::UUID, $60::UUID, $61::UUID, $62::UUID, $63::UUID, $64::UUID, $65::UUID, $66::UUID, $67::UUID, $68::UUID, $69::UUID, $70::UUID, $71::UUID, $72::UUID, $73::UUID, $74::UUID, $75::UUID, $76::UUID, $77::UUID, $78::UUID, $79::UUID, $80::UUID, $81::UUID, $82::UUID)
2025-12-11 10:19:29,060 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::UUID, $7::UUID, $8::UUID, $9::UUID, $10::UUID, $11::UUID, $12::UUID, $13::UUID, $14::UUID, $15::UUID, $16::UUID, $17::UUID, $18::UUID, $19::UUID, $20::UUID, $21::UUID, $22::UUID, $23::UUID, $24::UUID, $25::UUID, $26::UUID, $27::UUID, $28::UUID, $29::UUID, $30::UUID, $31::UUID, $32::UUID, $33::UUID, $34::UUID, $35::UUID, $36::UUID, $37::UUID, $38::UUID, $39::UUID, $40::UUID, $41::UUID, $42::UUID, $43::UUID, $44::UUID, $45::UUID, $46::UUID, $47::UUID, $48::UUID, $49::UUID, $50::UUID, $51::UUID, $52::UUID, $53::UUID, $54::UUID, $55::UUID, $56::UUID, $57::UUID, $58::UUID, $59::UUID, $60::UUID, $61::UUID, $62::UUID, $63::UUID, $64::UUID, $65::UUID, $66::UUID, $67::UUID, $68::UUID, $69::UUID, $70::UUID, $71::UUID, $72::UUID, $73::UUID, $74::UUID, $75::UUID, $76::UUID, $77::UUID, $78::UUID, $79::UUID, $80::UUID, $81::UUID, $82::UUID)
2025-12-11 10:19:29,060 INFO sqlalchemy.engine.Engine [generated in 0.00039s] (UUID('ea88e964-1973-4e0f-bfcc-1900e6379536'), UUID('cd9080dd-4b51-4334-992a-9f73dbc72925'), UUID('19284f3e-c9ae-45a4-96bf-5866aee84070'), UUID('5efd290b-93fa-4bd2-9f2f-524b1be5afb6'), UUID('7f727c81-2846-4964-a8fc-231825e3c84a'), UUID('48c60d4d-36d4-41cc-b1f9-f1ade7b17569'), UUID('6e3934b4-d52b-46bc-b14a-5aa729eed771'), UUID('c9fb3575-3278-4bca-ad32-8347d5708350'), UUID('f7a2f1e6-5c1c-4a78-ab62-693d6a7f4d09'), UUID('df836936-ce52-4507-a1b0-29bd27feade2'), UUID('bda2cf53-1af4-48bf-8574-340b4105bd62'), UUID('0d183b84-0eb2-4e2f-a927-975a25764c83'), UUID('e20eabeb-8db5-48c6-ba7e-14af564f37ea'), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), UUID('527ad8ea-3392-4c64-9df2-96c66d97b533'), UUID('e7dc7f32-ebe3-482c-91ab-9a4e6ce5aef9'), UUID('656ca060-ca77-4ae7-bfd8-344f2b4f1f17'), UUID('fae164b4-6096-4e85-8f63-31d4863b9e3c'), UUID('3bfe129e-7948-4556-b246-5d96f9365c98'), UUID('2de047c1-2ebe-43b4-a13b-6f10525700d5'), UUID('e4dc2f81-23fb-45b0-9401-f1f804155902'), UUID('df30c050-db68-4671-9043-c7f4fbe2fc68'), UUID('f296b68e-4e24-4ca7-80b5-3efe13a041cd'), UUID('70bb8695-1bb5-461e-a909-a0f5987ff99a'), UUID('41a32260-e98a-4bca-b573-3ff92f748c91'), UUID('025ae77f-a4f6-4075-9790-e2272dc4989a'), UUID('9fdd3b1d-0d29-419e-8399-0d0a07e7d311'), UUID('4e782c20-912d-421c-977b-d0b560a88e32'), UUID('3f762138-a160-49bb-a119-937b501d433a'), UUID('295c3eaf-e585-4e79-803d-88796e2b4c81'), UUID('5670756d-e5f9-449f-a839-cd11ebbd629f'), UUID('5b744dfe-315c-4db6-95c3-4babd17a825a'), UUID('ff54801b-9abb-4424-9e50-e4f27962b7e4'), UUID('d1c5e1fc-b058-47b5-8e08-6a78efceb387'), UUID('ae69894a-edd9-408b-9d9f-259516e317d8'), UUID('28f746e7-0237-40fc-b92d-02fd467c970a'), UUID('e38d22d9-cd36-4651-936c-d8f244457732'), UUID('a6da5789-594a-4183-af03-96bf51f0def0'), UUID('ba320efe-45dd-4d9a-bf69-67cee9ac277c'), UUID('c31cfd8b-ce9d-48d4-bec3-51c3939e8943'), UUID('6f2305c3-f08d-4415-a5df-0c3f8ea4d22e'), UUID('36eaab37-a811-42b5-b00d-36f267d4535d'), UUID('5e3727eb-5423-4580-bfb3-b41d205ea473'), UUID('2dd59a98-fc09-495b-b018-1e8877d4679b'), UUID('c774dca8-a870-4409-8e0f-21fbfd754698'), UUID('9927879b-9047-495c-b110-d9b069c080b7'), UUID('52056f70-4718-40e9-9431-a0320ee13dd5'), UUID('bef8115b-d04b-4b78-907f-dd34c5cd68d5'), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), UUID('feb52030-a1c9-4d7a-8d59-b18ca9bc8fbb'), UUID('d6ede169-f931-43b5-a0d2-dfa3ccfd9b8b'), UUID('532ff934-73a2-44ad-b9ae-d1f48a62e639'), UUID('cd34be7f-29a0-4bc8-959c-4b8863b12875'), UUID('9b643b93-3c27-49cd-bbfe-beaa3aa1d313'), UUID('e764ac4a-9921-41a1-a181-e0e25815c540'), UUID('e1c8fe4b-b6e8-4a48-b8c2-b74a77b40b15'), UUID('27707150-84a0-4dd0-ba4a-b715a15624cd'), UUID('6937e504-b370-4bbe-af55-384472053977'), UUID('755104dd-a54b-4ffc-86eb-cec1114908fc'), UUID('a90d4965-67f1-49f4-bc77-aafed90f107e'), UUID('58be8a17-7358-4151-b8a8-55a0b4aab03b'), UUID('06b81e24-c20e-4120-a510-9e52d7f5fc08'), UUID('66c82872-9192-4427-a604-ef54d86becf0'), UUID('6c219a27-1804-4093-b197-b169faef818b'), UUID('d3724080-be51-4bcb-a9aa-8bec823e822b'), UUID('e478abe6-13cb-4935-abaf-9faeff7d11b3'), UUID('b0353572-c127-4822-ba4a-9c2e3f54c82d'), UUID('8270e054-fa6d-408a-8543-0e41591a1ae5'), UUID('5e18fad0-1097-414d-b7a4-e61c1f1ac0d8'), UUID('2a000535-a267-4a7c-bfdf-f24ea7ae8c3b'), UUID('c0c77483-ca11-4bd4-a8fb-a87ab6d39f9d'), UUID('fe780add-8c3f-4d7c-bd28-b26b2eda83b2'), UUID('411c22a0-978a-410c-84e3-bb3452f3f10f'), UUID('7aba93e7-f384-4e30-a55d-6660f7316599'), UUID('2d6e7b6b-6d0e-47c3-99d6-24c4196ef8e2'), UUID('1137f7ac-362c-4d5e-b846-720bd593ef95'), UUID('453d6da4-ae55-48a1-a0a9-efbe5d3e5d0b'), UUID('a498e232-8f23-4551-8287-ede88417a925'), UUID('bffc1f36-de9d-4f76-9c6c-15574d10a4a7'), UUID('70321210-dffb-45e5-a60c-2b61df3711e2'), UUID('bf101cf4-7d63-456c-a16a-111344ce7672'), UUID('d938e282-afbe-4feb-9c85-c8c03d1c6c0a'))
2025-12-11 10:19:29,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (UUID('ea88e964-1973-4e0f-bfcc-1900e6379536'), UUID('cd9080dd-4b51-4334-992a-9f73dbc72925'), UUID('19284f3e-c9ae-45a4-96bf-5866aee84070'), UUID('5efd290b-93fa-4bd2-9f2f-524b1be5afb6'), UUID('7f727c81-2846-4964-a8fc-231825e3c84a'), UUID('48c60d4d-36d4-41cc-b1f9-f1ade7b17569'), UUID('6e3934b4-d52b-46bc-b14a-5aa729eed771'), UUID('c9fb3575-3278-4bca-ad32-8347d5708350'), UUID('f7a2f1e6-5c1c-4a78-ab62-693d6a7f4d09'), UUID('df836936-ce52-4507-a1b0-29bd27feade2'), UUID('bda2cf53-1af4-48bf-8574-340b4105bd62'), UUID('0d183b84-0eb2-4e2f-a927-975a25764c83'), UUID('e20eabeb-8db5-48c6-ba7e-14af564f37ea'), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), UUID('527ad8ea-3392-4c64-9df2-96c66d97b533'), UUID('e7dc7f32-ebe3-482c-91ab-9a4e6ce5aef9'), UUID('656ca060-ca77-4ae7-bfd8-344f2b4f1f17'), UUID('fae164b4-6096-4e85-8f63-31d4863b9e3c'), UUID('3bfe129e-7948-4556-b246-5d96f9365c98'), UUID('2de047c1-2ebe-43b4-a13b-6f10525700d5'), UUID('e4dc2f81-23fb-45b0-9401-f1f804155902'), UUID('df30c050-db68-4671-9043-c7f4fbe2fc68'), UUID('f296b68e-4e24-4ca7-80b5-3efe13a041cd'), UUID('70bb8695-1bb5-461e-a909-a0f5987ff99a'), UUID('41a32260-e98a-4bca-b573-3ff92f748c91'), UUID('025ae77f-a4f6-4075-9790-e2272dc4989a'), UUID('9fdd3b1d-0d29-419e-8399-0d0a07e7d311'), UUID('4e782c20-912d-421c-977b-d0b560a88e32'), UUID('3f762138-a160-49bb-a119-937b501d433a'), UUID('295c3eaf-e585-4e79-803d-88796e2b4c81'), UUID('5670756d-e5f9-449f-a839-cd11ebbd629f'), UUID('5b744dfe-315c-4db6-95c3-4babd17a825a'), UUID('ff54801b-9abb-4424-9e50-e4f27962b7e4'), UUID('d1c5e1fc-b058-47b5-8e08-6a78efceb387'), UUID('ae69894a-edd9-408b-9d9f-259516e317d8'), UUID('28f746e7-0237-40fc-b92d-02fd467c970a'), UUID('e38d22d9-cd36-4651-936c-d8f244457732'), UUID('a6da5789-594a-4183-af03-96bf51f0def0'), UUID('ba320efe-45dd-4d9a-bf69-67cee9ac277c'), UUID('c31cfd8b-ce9d-48d4-bec3-51c3939e8943'), UUID('6f2305c3-f08d-4415-a5df-0c3f8ea4d22e'), UUID('36eaab37-a811-42b5-b00d-36f267d4535d'), UUID('5e3727eb-5423-4580-bfb3-b41d205ea473'), UUID('2dd59a98-fc09-495b-b018-1e8877d4679b'), UUID('c774dca8-a870-4409-8e0f-21fbfd754698'), UUID('9927879b-9047-495c-b110-d9b069c080b7'), UUID('52056f70-4718-40e9-9431-a0320ee13dd5'), UUID('bef8115b-d04b-4b78-907f-dd34c5cd68d5'), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), UUID('feb52030-a1c9-4d7a-8d59-b18ca9bc8fbb'), UUID('d6ede169-f931-43b5-a0d2-dfa3ccfd9b8b'), UUID('532ff934-73a2-44ad-b9ae-d1f48a62e639'), UUID('cd34be7f-29a0-4bc8-959c-4b8863b12875'), UUID('9b643b93-3c27-49cd-bbfe-beaa3aa1d313'), UUID('e764ac4a-9921-41a1-a181-e0e25815c540'), UUID('e1c8fe4b-b6e8-4a48-b8c2-b74a77b40b15'), UUID('27707150-84a0-4dd0-ba4a-b715a15624cd'), UUID('6937e504-b370-4bbe-af55-384472053977'), UUID('755104dd-a54b-4ffc-86eb-cec1114908fc'), UUID('a90d4965-67f1-49f4-bc77-aafed90f107e'), UUID('58be8a17-7358-4151-b8a8-55a0b4aab03b'), UUID('06b81e24-c20e-4120-a510-9e52d7f5fc08'), UUID('66c82872-9192-4427-a604-ef54d86becf0'), UUID('6c219a27-1804-4093-b197-b169faef818b'), UUID('d3724080-be51-4bcb-a9aa-8bec823e822b'), UUID('e478abe6-13cb-4935-abaf-9faeff7d11b3'), UUID('b0353572-c127-4822-ba4a-9c2e3f54c82d'), UUID('8270e054-fa6d-408a-8543-0e41591a1ae5'), UUID('5e18fad0-1097-414d-b7a4-e61c1f1ac0d8'), UUID('2a000535-a267-4a7c-bfdf-f24ea7ae8c3b'), UUID('c0c77483-ca11-4bd4-a8fb-a87ab6d39f9d'), UUID('fe780add-8c3f-4d7c-bd28-b26b2eda83b2'), UUID('411c22a0-978a-410c-84e3-bb3452f3f10f'), UUID('7aba93e7-f384-4e30-a55d-6660f7316599'), UUID('2d6e7b6b-6d0e-47c3-99d6-24c4196ef8e2'), UUID('1137f7ac-362c-4d5e-b846-720bd593ef95'), UUID('453d6da4-ae55-48a1-a0a9-efbe5d3e5d0b'), UUID('a498e232-8f23-4551-8287-ede88417a925'), UUID('bffc1f36-de9d-4f76-9c6c-15574d10a4a7'), UUID('70321210-dffb-45e5-a60c-2b61df3711e2'), UUID('bf101cf4-7d63-456c-a16a-111344ce7672'), UUID('d938e282-afbe-4feb-9c85-c8c03d1c6c0a'))
2025-12-11 10:19:29,062 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::UUID)
2025-12-11 10:19:29,062 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::UUID)
2025-12-11 10:19:29,063 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'), UUID('96b24025-4d41-452e-9b9c-fc3ccf8e29dd'), UUID('955f7ad2-df62-4940-8831-ac9b9f9242b2'), UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'), UUID('571852b0-9dff-4cce-8393-567b4c69e93c'), UUID('b9f95877-1050-48b1-955b-23c134a64835'))
2025-12-11 10:19:29,063 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'), UUID('96b24025-4d41-452e-9b9c-fc3ccf8e29dd'), UUID('955f7ad2-df62-4940-8831-ac9b9f9242b2'), UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'), UUID('571852b0-9dff-4cce-8393-567b4c69e93c'), UUID('b9f95877-1050-48b1-955b-23c134a64835'))
2025-12-11 10:19:29,065 - main - INFO - ‚úÖ GET /api/v1/auth/roles - Status: 200 - Time: 0.0164s
INFO:     127.0.0.1:49659 - "GET /api/v1/auth/roles HTTP/1.1" 200 OK
2025-12-11 10:19:29,066 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:29,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:29,068 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID)
2025-12-11 10:19:29,068 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID)
2025-12-11 10:19:29,068 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (UUID('96b24025-4d41-452e-9b9c-fc3ccf8e29dd'), UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'), UUID('955f7ad2-df62-4940-8831-ac9b9f9242b2'), UUID('571852b0-9dff-4cce-8393-567b4c69e93c'), UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'))
2025-12-11 10:19:29,068 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (UUID('96b24025-4d41-452e-9b9c-fc3ccf8e29dd'), UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'), UUID('955f7ad2-df62-4940-8831-ac9b9f9242b2'), UUID('571852b0-9dff-4cce-8393-567b4c69e93c'), UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'))
2025-12-11 10:19:29,082 - main - INFO - ‚úÖ GET /api/v1/auth/users - Status: 200 - Time: 0.0341s
INFO:     127.0.0.1:49661 - "GET /api/v1/auth/users HTTP/1.1" 200 OK
2025-12-11 10:19:29,082 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:29,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:39,510 - main - INFO - üåê OPTIONS /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:19:39,510 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/me - Status: 200 - Time: 0.0002s
INFO:     127.0.0.1:49663 - "OPTIONS /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:19:39,511 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:19:39,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:39,514 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:39,514 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:39,514 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:39,514 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,514 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,515 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:39,515 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:39,516 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,516 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,516 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:39,516 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:39,517 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,517 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,519 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:39,519 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:39,519 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:39,519 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:39,521 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:39,521 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:39,521 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:39,521 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:39,523 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:39,523 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:39,523 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,523 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,526 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:39,526 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:39,526 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,526 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:39,528 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:39,528 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:39,528 INFO sqlalchemy.engine.Engine [cached since 637.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:39,528 - sqlalchemy.engine.Engine - INFO - [cached since 637.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:39,529 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0175s
INFO:     127.0.0.1:49663 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:19:39,530 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:39,530 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,352 - main - INFO - üåê OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,353 - main - INFO - üåê OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,361 - main - INFO - üåê OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,361 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0086s
INFO:     127.0.0.1:49663 - "OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,361 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0085s
INFO:     127.0.0.1:49670 - "OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,362 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0010s
INFO:     127.0.0.1:49672 - "OPTIONS /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,363 - main - INFO - üåê GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,368 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,368 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,368 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,368 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,370 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,370 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,370 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,370 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,371 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,371 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,371 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,371 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,372 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,372 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,372 INFO sqlalchemy.engine.Engine [cached since 638.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,372 - sqlalchemy.engine.Engine - INFO - [cached since 638.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,376 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,376 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,377 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,377 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,379 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,379 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,379 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,379 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,382 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,382 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,382 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,382 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,384 - main - INFO - ‚úÖ GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0181s
INFO:     127.0.0.1:49670 - "GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,384 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,384 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,385 - main - INFO - üåê GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,386 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:19:40,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,389 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,389 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,389 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,389 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,389 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,389 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,389 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,389 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,389 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,390 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,390 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,390 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,390 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,390 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,390 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,390 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,390 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,391 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,391 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,391 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,391 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,391 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,391 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,391 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,391 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,392 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,392 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,392 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,392 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,393 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,393 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,393 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,393 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,393 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,393 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,393 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,393 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,394 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,394 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,394 INFO sqlalchemy.engine.Engine [cached since 0.01782s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,394 - sqlalchemy.engine.Engine - INFO - [cached since 0.01782s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,395 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,395 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,395 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,395 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,395 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,395 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,395 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,395 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,396 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,396 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,396 INFO sqlalchemy.engine.Engine [cached since 0.01671s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,396 - sqlalchemy.engine.Engine - INFO - [cached since 0.01671s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,396 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,396 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,396 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,396 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,397 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,397 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,397 INFO sqlalchemy.engine.Engine [cached since 0.01602s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,397 - sqlalchemy.engine.Engine - INFO - [cached since 0.01602s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,398 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0113s
INFO:     127.0.0.1:49672 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:19:40,398 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,398 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,399 - main - INFO - ‚úÖ GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0143s
INFO:     127.0.0.1:49670 - "GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,400 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,400 - main - INFO - üåê GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:19:40,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,401 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,401 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,401 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,401 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,403 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:19:40,404 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,404 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,404 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,404 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,405 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,405 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,405 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,405 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,406 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,406 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,406 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,406 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,406 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,406 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,406 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,406 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,406 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,407 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,407 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:19:40,407 INFO sqlalchemy.engine.Engine [cached since 0.03045s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.03045s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:19:40,408 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,408 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:40,408 INFO sqlalchemy.engine.Engine [cached since 0.02888s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,408 - sqlalchemy.engine.Engine - INFO - [cached since 0.02888s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:40,408 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,408 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,408 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,408 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,409 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,409 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:40,409 INFO sqlalchemy.engine.Engine [cached since 0.02719s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,409 - sqlalchemy.engine.Engine - INFO - [cached since 0.02719s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:40,409 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,409 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,409 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,409 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,410 - main - INFO - ‚úÖ GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0094s
INFO:     127.0.0.1:49670 - "GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:19:40,410 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,410 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,411 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,411 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,412 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,412 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,413 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,413 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,413 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,413 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,414 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,414 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,414 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,414 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,414 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,414 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,414 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,414 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,415 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,415 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,415 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,415 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,416 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0129s
INFO:     127.0.0.1:49672 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:19:40,416 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:40,417 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:19:40,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:40,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:40,418 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,418 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,418 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,418 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,419 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,419 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,419 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,419 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,420 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,420 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,420 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,420 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,421 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,421 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,421 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,421 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,422 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,422 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:40,422 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,422 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:19:40,422 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,422 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:40,422 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,422 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,423 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,423 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:40,423 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,423 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:40,423 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,423 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:40,423 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,423 - sqlalchemy.engine.Engine - INFO - [cached since 638.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:40,424 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0067s
INFO:     127.0.0.1:49672 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:19:40,424 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:40,424 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:42,388 - main - INFO - üåê OPTIONS /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:42,389 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/ - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:49672 - "OPTIONS /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:42,390 - main - INFO - üåê OPTIONS /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:42,391 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:42,392 - main - INFO - ‚úÖ OPTIONS /api/v1/employees/ - Status: 200 - Time: 0.0015s
INFO:     127.0.0.1:49670 - "OPTIONS /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:42,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:42,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:42,396 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:42,396 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:42,396 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,396 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,397 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:42,397 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:42,398 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,398 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,399 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:42,399 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:42,399 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,399 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,401 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:42,401 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:42,401 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:42,401 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:42,403 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:42,403 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:42,404 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (100, 0)
2025-12-11 10:19:42,404 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (100, 0)
2025-12-11 10:19:42,405 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:42,405 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:42,406 INFO sqlalchemy.engine.Engine [cached since 2.027s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:42,406 - sqlalchemy.engine.Engine - INFO - [cached since 2.027s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:42,406 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:42,406 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:42,406 INFO sqlalchemy.engine.Engine [cached since 2.025s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:42,406 - sqlalchemy.engine.Engine - INFO - [cached since 2.025s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:42,407 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0166s
INFO:     127.0.0.1:49663 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:42,408 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:42,408 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:42,408 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:42,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:42,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:42,410 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:42,410 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:42,410 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,410 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,411 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:42,411 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:42,411 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,411 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,412 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:42,412 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:42,412 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,412 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:42,413 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:42,413 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:42,413 INFO sqlalchemy.engine.Engine [cached since 640.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:42,413 - sqlalchemy.engine.Engine - INFO - [cached since 640.3s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:42,414 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:42,414 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:42,414 INFO sqlalchemy.engine.Engine [cached since 0.0111s ago] (100, 0)
2025-12-11 10:19:42,414 - sqlalchemy.engine.Engine - INFO - [cached since 0.0111s ago] (100, 0)
2025-12-11 10:19:42,417 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:42,417 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:42,417 INFO sqlalchemy.engine.Engine [cached since 2.038s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:42,417 - sqlalchemy.engine.Engine - INFO - [cached since 2.038s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:42,419 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:42,419 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:42,419 INFO sqlalchemy.engine.Engine [cached since 2.037s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:42,419 - sqlalchemy.engine.Engine - INFO - [cached since 2.037s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:42,420 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0115s
INFO:     127.0.0.1:49663 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:42,420 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:42,420 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:48,571 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:48,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:48,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:48,573 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:48,573 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:48,573 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,573 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,574 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:48,574 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:48,574 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,574 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,575 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:48,575 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:48,575 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,575 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,576 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:48,576 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:48,576 INFO sqlalchemy.engine.Engine [cached since 646.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:48,576 - sqlalchemy.engine.Engine - INFO - [cached since 646.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:48,577 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:48,577 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:48,577 INFO sqlalchemy.engine.Engine [cached since 6.174s ago] (100, 0)
2025-12-11 10:19:48,577 - sqlalchemy.engine.Engine - INFO - [cached since 6.174s ago] (100, 0)
2025-12-11 10:19:48,578 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:48,578 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:48,578 INFO sqlalchemy.engine.Engine [cached since 8.199s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:48,578 - sqlalchemy.engine.Engine - INFO - [cached since 8.199s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:48,579 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:48,579 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:48,579 INFO sqlalchemy.engine.Engine [cached since 8.198s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:48,579 - sqlalchemy.engine.Engine - INFO - [cached since 8.198s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:48,580 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0088s
INFO:     127.0.0.1:49674 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:48,580 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:48,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:19:48,581 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:19:48,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:19:48,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:19:48,583 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:48,583 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:19:48,583 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,583 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,588 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:48,588 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:19:48,588 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,588 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,589 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:48,589 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:19:48,589 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,589 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:19:48,591 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:48,591 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:19:48,591 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:48,591 - sqlalchemy.engine.Engine - INFO - [cached since 646.5s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:19:48,593 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:48,593 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:19:48,593 INFO sqlalchemy.engine.Engine [cached since 6.19s ago] (100, 0)
2025-12-11 10:19:48,593 - sqlalchemy.engine.Engine - INFO - [cached since 6.19s ago] (100, 0)
2025-12-11 10:19:48,595 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:48,595 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:19:48,595 INFO sqlalchemy.engine.Engine [cached since 8.216s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:48,595 - sqlalchemy.engine.Engine - INFO - [cached since 8.216s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:19:48,596 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:48,596 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:19:48,596 INFO sqlalchemy.engine.Engine [cached since 8.214s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:48,596 - sqlalchemy.engine.Engine - INFO - [cached since 8.214s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:19:48,597 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0158s
INFO:     127.0.0.1:49674 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:19:48,597 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:19:48,597 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:00,135 - main - INFO - üåê OPTIONS /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,136 - main - INFO - üåê OPTIONS /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,136 - main - INFO - ‚úÖ OPTIONS /api/v1/dashboard/employee - Status: 200 - Time: 0.0005s
INFO:     127.0.0.1:49684 - "OPTIONS /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,137 - main - INFO - ‚úÖ OPTIONS /api/v1/dashboard/employee - Status: 200 - Time: 0.0004s
INFO:     127.0.0.1:49686 - "OPTIONS /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,137 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:00,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:00,183 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,183 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,183 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,183 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,214 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,214 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,215 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,215 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,218 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,218 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,218 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,218 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,221 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,221 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,221 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,221 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,223 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,223 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,223 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,223 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,228 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,228 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,228 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,228 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,229 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,229 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,230 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,230 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,231 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,231 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,232 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,232 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,234 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0961s
INFO:     127.0.0.1:49684 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,234 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:00,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:00,234 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:00,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:00,236 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,236 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,236 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,236 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,237 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,237 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,237 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,237 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,238 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,238 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,238 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,238 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,239 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,239 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,239 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,239 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,240 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,240 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,240 INFO sqlalchemy.engine.Engine [cached since 0.01745s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.01745s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,242 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,242 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,242 INFO sqlalchemy.engine.Engine [cached since 0.01376s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.01376s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,242 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,242 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,242 INFO sqlalchemy.engine.Engine [cached since 0.01282s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.01282s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,243 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,243 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,243 INFO sqlalchemy.engine.Engine [cached since 0.01128s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,243 - sqlalchemy.engine.Engine - INFO - [cached since 0.01128s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,244 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0090s
INFO:     127.0.0.1:49684 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,244 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:00,244 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:00,245 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:00,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:00,246 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,246 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,246 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,246 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,247 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,247 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,247 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,247 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,248 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,248 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,248 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,248 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,249 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,249 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,249 INFO sqlalchemy.engine.Engine [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,249 - sqlalchemy.engine.Engine - INFO - [cached since 658.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,251 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,251 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,251 INFO sqlalchemy.engine.Engine [cached since 0.02833s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,251 - sqlalchemy.engine.Engine - INFO - [cached since 0.02833s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,253 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,253 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,253 INFO sqlalchemy.engine.Engine [cached since 0.02515s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.02515s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,255 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,255 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,255 INFO sqlalchemy.engine.Engine [cached since 0.02606s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.02606s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,273 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,273 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,273 INFO sqlalchemy.engine.Engine [cached since 0.04189s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.04189s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,276 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0310s
INFO:     127.0.0.1:49684 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,276 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:00,276 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:00,277 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:00,280 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:00,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:00,281 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,281 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:00,281 INFO sqlalchemy.engine.Engine [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,281 - sqlalchemy.engine.Engine - INFO - [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,282 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,282 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:00,282 INFO sqlalchemy.engine.Engine [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,282 - sqlalchemy.engine.Engine - INFO - [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,283 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,283 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:00,283 INFO sqlalchemy.engine.Engine [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,283 - sqlalchemy.engine.Engine - INFO - [cached since 658.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:20:00,284 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,284 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:00,284 INFO sqlalchemy.engine.Engine [cached since 658.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,284 - sqlalchemy.engine.Engine - INFO - [cached since 658.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:20:00,285 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,285 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:00,285 INFO sqlalchemy.engine.Engine [cached since 0.06251s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,285 - sqlalchemy.engine.Engine - INFO - [cached since 0.06251s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:20:00,290 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,290 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:00,290 INFO sqlalchemy.engine.Engine [cached since 0.06241s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,290 - sqlalchemy.engine.Engine - INFO - [cached since 0.06241s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:00,292 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,292 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:00,292 INFO sqlalchemy.engine.Engine [cached since 0.06262s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,292 - sqlalchemy.engine.Engine - INFO - [cached since 0.06262s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:00,293 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,293 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:20:00,293 INFO sqlalchemy.engine.Engine [cached since 0.06201s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,293 - sqlalchemy.engine.Engine - INFO - [cached since 0.06201s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:20:00,295 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0182s
INFO:     127.0.0.1:49686 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:00,296 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:00,296 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:05,590 - main - INFO - üåê OPTIONS /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:20:05,591 - main - INFO - ‚úÖ OPTIONS /api/v1/auth/login - Status: 200 - Time: 0.0003s
INFO:     127.0.0.1:49688 - "OPTIONS /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:20:05,592 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:20:05,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,596 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:20:05,596 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:20:05,596 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('gokce@inara.org',)
2025-12-11 10:20:05,596 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('gokce@inara.org',)
2025-12-11 10:20:05,601 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,601 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,601 INFO sqlalchemy.engine.Engine [cached since 36.54s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,601 - sqlalchemy.engine.Engine - INFO - [cached since 36.54s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,602 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,602 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,602 INFO sqlalchemy.engine.Engine [cached since 36.53s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,602 - sqlalchemy.engine.Engine - INFO - [cached since 36.53s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,876 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:20:05,876 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:20:05,876 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('b290a04a-8342-4fed-8856-b2d7814fea50'), datetime.datetime(2025, 12, 11, 7, 20, 5, 876600), datetime.datetime(2025, 12, 11, 7, 20, 5, 876604), False, None)
2025-12-11 10:20:05,876 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('b290a04a-8342-4fed-8856-b2d7814fea50'), datetime.datetime(2025, 12, 11, 7, 20, 5, 876600), datetime.datetime(2025, 12, 11, 7, 20, 5, 876604), False, None)
2025-12-11 10:20:05,880 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,880 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,880 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,880 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,881 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,881 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,881 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,881 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,881 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,881 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,881 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,881 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,882 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,882 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,882 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,882 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,883 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:20:05,883 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:20:05,883 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (datetime.datetime(2025, 12, 11, 7, 20, 5, 882613), datetime.datetime(2025, 12, 11, 7, 20, 5, 883293), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:20:05,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (datetime.datetime(2025, 12, 11, 7, 20, 5, 882613), datetime.datetime(2025, 12, 11, 7, 20, 5, 883293), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:20:05,884 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:20:05,884 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:20:05,885 - modules.auth.services - INFO - User gokce@inara.org logged in successfully
2025-12-11 10:20:05,885 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2923s
INFO:     127.0.0.1:49688 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:20:05,896 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:20:05,900 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,901 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,901 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,901 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,901 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,909 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,909 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,909 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,909 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,910 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,910 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,910 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,910 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,911 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,911 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,911 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,911 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,912 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,912 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,912 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,912 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,912 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,912 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,913 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,913 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,913 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,913 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,913 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,913 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,913 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,913 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,913 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,913 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,914 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0180s
INFO:     127.0.0.1:49688 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:20:05,914 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:05,914 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:05,927 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:05,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,929 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,929 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,929 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,929 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,929 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,930 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,930 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,930 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,930 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,932 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,932 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,932 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,932 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,932 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,932 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,932 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,932 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,933 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,933 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,933 INFO sqlalchemy.engine.Engine [cached since 5.71s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,933 - sqlalchemy.engine.Engine - INFO - [cached since 5.71s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,934 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0069s
INFO:     127.0.0.1:49688 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:05,934 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:05,934 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:05,935 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:05,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,937 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,937 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,937 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,937 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,938 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,938 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,938 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,938 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,939 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,939 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,939 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,939 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,939 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,939 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,939 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,939 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,940 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,940 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,940 INFO sqlalchemy.engine.Engine [cached since 5.717s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,940 - sqlalchemy.engine.Engine - INFO - [cached since 5.717s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,941 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0062s
INFO:     127.0.0.1:49688 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:05,941 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:05,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:05,948 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:05,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,949 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,949 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,949 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,949 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,949 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,950 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,950 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,950 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,950 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,951 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,951 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,951 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,951 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,953 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,953 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,953 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,953 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,954 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,954 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,955 INFO sqlalchemy.engine.Engine [cached since 5.732s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,955 - sqlalchemy.engine.Engine - INFO - [cached since 5.732s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,955 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0077s
INFO:     127.0.0.1:49688 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:05,956 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:05,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:05,956 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:05,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:05,958 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:05,958 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,958 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:05,958 INFO sqlalchemy.engine.Engine [cached since 663.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,958 - sqlalchemy.engine.Engine - INFO - [cached since 663.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,959 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,959 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:05,959 INFO sqlalchemy.engine.Engine [cached since 663.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,959 - sqlalchemy.engine.Engine - INFO - [cached since 663.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,960 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,960 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:05,960 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,960 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:05,961 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,961 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:05,961 INFO sqlalchemy.engine.Engine [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,961 - sqlalchemy.engine.Engine - INFO - [cached since 663.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:05,963 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,963 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:05,963 INFO sqlalchemy.engine.Engine [cached since 5.74s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,963 - sqlalchemy.engine.Engine - INFO - [cached since 5.74s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:05,963 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0069s
INFO:     127.0.0.1:49688 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:05,964 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:05,964 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:10,603 - main - INFO - üåê OPTIONS /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:10,605 - main - INFO - üåê OPTIONS /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:10,677 - main - INFO - üåê OPTIONS /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:10,679 - main - INFO - üåê OPTIONS /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:10,680 - main - INFO - ‚úÖ OPTIONS /api/v1/payroll - Status: 200 - Time: 0.0764s
INFO:     127.0.0.1:49688 - "OPTIONS /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 200 OK
2025-12-11 10:20:10,680 - main - INFO - ‚úÖ OPTIONS /api/v1/payroll/stats - Status: 200 - Time: 0.0753s
INFO:     127.0.0.1:49691 - "OPTIONS /api/v1/payroll/stats HTTP/1.1" 200 OK
2025-12-11 10:20:10,681 - main - INFO - ‚úÖ OPTIONS /api/v1/payroll - Status: 200 - Time: 0.0038s
INFO:     127.0.0.1:49696 - "OPTIONS /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 200 OK
2025-12-11 10:20:10,682 - main - INFO - ‚úÖ OPTIONS /api/v1/payroll/stats - Status: 200 - Time: 0.0016s
INFO:     127.0.0.1:49697 - "OPTIONS /api/v1/payroll/stats HTTP/1.1" 200 OK
2025-12-11 10:20:10,682 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:10,687 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:10,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:10,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:10,690 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,690 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,690 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,690 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:10,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:10,690 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,690 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,690 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,690 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,692 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,692 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,692 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,692 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,693 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,693 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,693 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,693 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,694 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,694 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,694 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,694 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,694 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,694 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,694 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,694 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,695 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,695 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,695 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,695 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,695 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,695 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,695 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,695 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,697 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:10,697 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:10,697 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2025-12-11 10:20:10,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ()
2025-12-11 10:20:10,699 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:10,699 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:10,699 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
2025-12-11 10:20:10,699 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
2025-12-11 10:20:10,700 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:10,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:10,700 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:10,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:10,700 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,705 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,707 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49691 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,715 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49688 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,722 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:10,723 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:10,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:10,724 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:10,725 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,725 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,725 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,725 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:10,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:10,725 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,725 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:10,725 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,725 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,726 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,726 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,727 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,727 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:10,727 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,727 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:10,727 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,727 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,727 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,727 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,728 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,728 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:10,728 INFO sqlalchemy.engine.Engine [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,728 - sqlalchemy.engine.Engine - INFO - [cached since 668.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:10,728 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:10,728 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:10,728 INFO sqlalchemy.engine.Engine [cached since 0.03151s ago] ()
2025-12-11 10:20:10,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.03151s ago] ()
2025-12-11 10:20:10,729 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:10,729 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:10,729 INFO sqlalchemy.engine.Engine [cached since 0.02971s ago] ()
2025-12-11 10:20:10,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.02971s ago] ()
2025-12-11 10:20:10,729 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:10,729 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:10,729 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,732 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:10,732 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:10,732 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49697 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,740 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:10,743 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49696 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,722 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:11,725 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,728 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,728 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,731 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,731 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,731 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,731 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,758 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,758 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,758 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,758 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,760 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,760 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,760 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,760 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,761 INFO sqlalchemy.engine.Engine [cached since 669.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,761 - sqlalchemy.engine.Engine - INFO - [cached since 669.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,762 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:11,762 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:11,762 INFO sqlalchemy.engine.Engine [cached since 1.063s ago] ()
2025-12-11 10:20:11,762 - sqlalchemy.engine.Engine - INFO - [cached since 1.063s ago] ()
2025-12-11 10:20:11,762 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:11,762 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:11,762 INFO sqlalchemy.engine.Engine [cached since 1.066s ago] ()
2025-12-11 10:20:11,762 - sqlalchemy.engine.Engine - INFO - [cached since 1.066s ago] ()
2025-12-11 10:20:11,763 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:11,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:11,763 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,766 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:11,766 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:11,766 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49701 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,772 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,775 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49700 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,782 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:11,786 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:11,787 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:11,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:11,787 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,787 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,787 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,787 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,787 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:11,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:11,788 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,788 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:11,788 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,788 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,788 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,788 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,788 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,788 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,789 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,789 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,789 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,789 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,789 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,789 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:11,789 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,789 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,790 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,790 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,790 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,790 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,790 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,790 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:11,790 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,790 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:11,791 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:11,791 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:11,791 INFO sqlalchemy.engine.Engine [cached since 1.092s ago] ()
2025-12-11 10:20:11,791 - sqlalchemy.engine.Engine - INFO - [cached since 1.092s ago] ()
2025-12-11 10:20:11,791 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,791 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:11,791 INFO sqlalchemy.engine.Engine [cached since 669.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,791 - sqlalchemy.engine.Engine - INFO - [cached since 669.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:11,792 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:11,792 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:11,792 INFO sqlalchemy.engine.Engine [cached since 1.095s ago] ()
2025-12-11 10:20:11,792 - sqlalchemy.engine.Engine - INFO - [cached since 1.095s ago] ()
2025-12-11 10:20:11,792 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:11,792 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:11,793 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,796 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:11,796 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:11,796 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49703 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,805 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:11,808 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49705 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,779 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:13,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:13,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:13,783 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,783 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,783 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,783 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,784 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,784 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,784 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,784 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,784 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,784 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,784 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,784 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,785 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,785 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,785 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,785 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,786 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:13,786 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:13,786 INFO sqlalchemy.engine.Engine [cached since 3.087s ago] ()
2025-12-11 10:20:13,786 - sqlalchemy.engine.Engine - INFO - [cached since 3.087s ago] ()
2025-12-11 10:20:13,786 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:13,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:13,787 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,789 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49707 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,796 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:13,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:13,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:13,800 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,800 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,800 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,800 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,801 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,801 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,801 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,801 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,801 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,801 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,801 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,801 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,802 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,802 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,802 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,802 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,802 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:13,802 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:13,802 INFO sqlalchemy.engine.Engine [cached since 3.105s ago] ()
2025-12-11 10:20:13,802 - sqlalchemy.engine.Engine - INFO - [cached since 3.105s ago] ()
2025-12-11 10:20:13,802 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:13,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:13,803 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,805 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49709 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,813 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:13,817 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:13,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:13,817 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:13,818 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,818 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,818 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,818 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,818 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:13,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:13,818 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,818 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:13,818 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,818 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,819 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,819 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,819 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,819 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,820 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,820 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,820 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,820 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,820 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,820 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:13,820 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,820 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,821 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,821 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,821 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,821 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,821 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,821 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:13,821 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,821 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:13,822 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:13,822 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:13,822 INFO sqlalchemy.engine.Engine [cached since 3.123s ago] ()
2025-12-11 10:20:13,822 - sqlalchemy.engine.Engine - INFO - [cached since 3.123s ago] ()
2025-12-11 10:20:13,822 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,822 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:13,822 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,822 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:13,823 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:13,823 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:13,823 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:13,823 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:13,823 INFO sqlalchemy.engine.Engine [cached since 3.126s ago] ()
2025-12-11 10:20:13,823 - sqlalchemy.engine.Engine - INFO - [cached since 3.126s ago] ()
2025-12-11 10:20:13,823 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,827 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49711 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:13,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:13,865 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:13,868 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49713 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,803 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:16,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:16,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:16,817 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,817 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,817 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,817 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,821 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:16,824 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,824 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,824 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,824 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,825 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,825 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,826 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:16,826 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:16,826 INFO sqlalchemy.engine.Engine [cached since 6.127s ago] ()
2025-12-11 10:20:16,826 - sqlalchemy.engine.Engine - INFO - [cached since 6.127s ago] ()
2025-12-11 10:20:16,827 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,827 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,827 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,827 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,827 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:16,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:16,827 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,827 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,827 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,827 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,827 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,831 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,831 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,831 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,831 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,831 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49715 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,838 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:16,838 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:16,838 INFO sqlalchemy.engine.Engine [cached since 6.141s ago] ()
2025-12-11 10:20:16,838 - sqlalchemy.engine.Engine - INFO - [cached since 6.141s ago] ()
2025-12-11 10:20:16,844 - main - INFO - üåê GET /api/v1/payroll - Client: 127.0.0.1
2025-12-11 10:20:16,845 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:16,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:16,845 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,849 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49717 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:16,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:16,858 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,858 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,858 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,858 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,859 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,859 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,859 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,859 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,860 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,860 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,860 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,860 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,860 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,860 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,860 INFO sqlalchemy.engine.Engine [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,860 - sqlalchemy.engine.Engine - INFO - [cached since 674.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,861 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:16,861 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1
2025-12-11 10:20:16,861 INFO sqlalchemy.engine.Engine [cached since 6.162s ago] ()
2025-12-11 10:20:16,861 - sqlalchemy.engine.Engine - INFO - [cached since 6.162s ago] ()
2025-12-11 10:20:16,862 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:16,862 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:16,862 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,865 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49719 - "GET /api/v1/payroll?page=1&page_size=10 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 72, in list_payrolls
    payrolls, total = await PayrollService.list_payrolls(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        session, page, page_size, status, year
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 215, in list_payrolls
    total = await session.scalar(count_query)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM (SELECT payrolls.month AS month, payrolls.year AS year, payrolls.payment_date AS payment_date, payrolls.total_basic_salary AS total_basic_salary, payrolls.total_allowances AS total_allowances, payrolls.total_gross_salary AS total_gross_salary, payrolls.total_deductions AS total_deductions, payrolls.total_net_salary AS total_net_salary, payrolls.status AS status, payrolls.created_by_id AS created_by_id, payrolls.processed_by_id AS processed_by_id, payrolls.pdf_filename AS pdf_filename, payrolls.id AS id, payrolls.created_at AS created_at, payrolls.updated_at AS updated_at, payrolls.is_deleted AS is_deleted, payrolls.deleted_at AS deleted_at 
FROM payrolls 
WHERE payrolls.is_deleted = false) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,877 - main - INFO - üåê GET /api/v1/payroll/stats - Client: 127.0.0.1
2025-12-11 10:20:16,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:16,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:16,879 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,879 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:16,879 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,879 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,880 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,880 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:16,880 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,880 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,881 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,881 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:16,881 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,881 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:16,882 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,882 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:16,882 INFO sqlalchemy.engine.Engine [cached since 674.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,882 - sqlalchemy.engine.Engine - INFO - [cached since 674.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:16,882 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:16,882 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false
2025-12-11 10:20:16,883 INFO sqlalchemy.engine.Engine [cached since 6.186s ago] ()
2025-12-11 10:20:16,883 - sqlalchemy.engine.Engine - INFO - [cached since 6.186s ago] ()
2025-12-11 10:20:16,883 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:16,883 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:16,883 - core.database - ERROR - Database session error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:16,887 - main - ERROR - Unhandled exception: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49721 - "GET /api/v1/payroll/stats HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/main.py", line 129, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/routes.py", line 93, in get_payroll_stats
    stats = await PayrollService.get_payroll_stats(session, current_user["id"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/modules/payroll/services.py", line 464, in get_payroll_stats
    total_payrolls = await session.scalar(total_query)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 505, in scalar
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "payrolls" does not exist
[SQL: SELECT count(*) AS count_1 
FROM payrolls 
WHERE payrolls.is_deleted = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-11 10:20:20,209 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:20,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:20,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:20,211 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:20,211 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:20,212 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,212 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,213 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:20,213 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:20,213 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,213 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,214 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:20,214 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:20,214 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,214 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,214 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:20,214 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:20,214 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:20,214 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:20,216 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:20,216 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:20,217 INFO sqlalchemy.engine.Engine [cached since 37.81s ago] (100, 0)
2025-12-11 10:20:20,217 - sqlalchemy.engine.Engine - INFO - [cached since 37.81s ago] (100, 0)
2025-12-11 10:20:20,218 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:20,218 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:20,218 INFO sqlalchemy.engine.Engine [cached since 39.84s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:20,218 - sqlalchemy.engine.Engine - INFO - [cached since 39.84s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:20,219 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:20,219 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:20,219 INFO sqlalchemy.engine.Engine [cached since 39.84s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:20,219 - sqlalchemy.engine.Engine - INFO - [cached since 39.84s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:20,220 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0108s
INFO:     127.0.0.1:49724 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:20,220 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:20,220 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:20,221 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:20,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:20,225 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:20,226 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:20,226 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:20,226 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,226 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,227 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:20,227 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:20,227 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,227 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,228 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:20,228 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:20,228 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,228 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:20,229 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:20,229 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:20,229 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:20,229 - sqlalchemy.engine.Engine - INFO - [cached since 678.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:20,230 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:20,230 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:20,230 INFO sqlalchemy.engine.Engine [cached since 37.83s ago] (100, 0)
2025-12-11 10:20:20,230 - sqlalchemy.engine.Engine - INFO - [cached since 37.83s ago] (100, 0)
2025-12-11 10:20:20,231 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:20,231 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:20,231 INFO sqlalchemy.engine.Engine [cached since 39.85s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:20,231 - sqlalchemy.engine.Engine - INFO - [cached since 39.85s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:20,233 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:20,233 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:20,233 INFO sqlalchemy.engine.Engine [cached since 39.85s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:20,233 - sqlalchemy.engine.Engine - INFO - [cached since 39.85s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:20,234 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0124s
INFO:     127.0.0.1:49724 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:20,234 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:20,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,553 - main - INFO - üåê GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:20:23,555 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:23,556 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:20:23,557 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:20:23,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,560 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,560 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,560 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,560 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,560 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,560 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,560 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,560 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,563 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,563 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,563 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,563 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,563 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,563 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,563 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,563 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,565 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,565 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,565 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,565 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,565 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,565 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,566 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,566 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,568 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,568 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,568 INFO sqlalchemy.engine.Engine [cached since 681.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,568 - sqlalchemy.engine.Engine - INFO - [cached since 681.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,569 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,569 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,569 INFO sqlalchemy.engine.Engine [cached since 681.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,569 - sqlalchemy.engine.Engine - INFO - [cached since 681.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,569 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,569 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,569 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,570 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,570 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,571 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:20:23,571 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:20:23,571 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:20:23,571 - sqlalchemy.engine.Engine - INFO - [cached since 43.2s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:20:23,572 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:23,572 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:23,572 INFO sqlalchemy.engine.Engine [cached since 41.17s ago] (100, 0)
2025-12-11 10:20:23,572 - sqlalchemy.engine.Engine - INFO - [cached since 41.17s ago] (100, 0)
2025-12-11 10:20:23,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,572 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,572 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,572 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,572 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,574 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,574 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,574 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,574 - sqlalchemy.engine.Engine - INFO - [cached since 43.2s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,575 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,575 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,575 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,575 - sqlalchemy.engine.Engine - INFO - [cached since 43.2s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,576 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,576 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,576 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,576 - sqlalchemy.engine.Engine - INFO - [cached since 43.2s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,577 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,577 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,578 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,578 - sqlalchemy.engine.Engine - INFO - [cached since 43.2s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,579 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,579 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,579 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,579 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,580 - main - INFO - ‚úÖ GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0264s
INFO:     127.0.0.1:49724 - "GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:20:23,580 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,580 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,580 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,580 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,580 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0252s
INFO:     127.0.0.1:49729 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:23,581 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,581 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,581 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,581 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,581 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:23,583 - main - INFO - üåê GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Client: 127.0.0.1
2025-12-11 10:20:23,586 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,586 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,586 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,586 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,587 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,587 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,587 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,587 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,589 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,589 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,589 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,589 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,589 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,590 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,590 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,590 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,590 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,594 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,594 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,594 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,594 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,596 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,596 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,596 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,596 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,597 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,597 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,597 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,597 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,599 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:20:23,599 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.id = $1::UUID AND employees.is_deleted = false
2025-12-11 10:20:23,599 INFO sqlalchemy.engine.Engine [cached since 43.22s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:20:23,599 - sqlalchemy.engine.Engine - INFO - [cached since 43.22s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'),)
2025-12-11 10:20:23,600 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,600 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,601 INFO sqlalchemy.engine.Engine [cached since 43.22s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,601 - sqlalchemy.engine.Engine - INFO - [cached since 43.22s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,605 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,605 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,605 INFO sqlalchemy.engine.Engine [cached since 43.22s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,605 - sqlalchemy.engine.Engine - INFO - [cached since 43.22s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,606 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,606 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,606 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,606 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,608 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,608 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,608 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,608 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,608 - main - INFO - ‚úÖ GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 - Status: 200 - Time: 0.0248s
INFO:     127.0.0.1:49729 - "GET /api/v1/employees/8f65171e-aae6-4c76-84a9-e11fd67fe218 HTTP/1.1" 200 OK
2025-12-11 10:20:23,609 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,609 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,609 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,609 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,609 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,610 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,610 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,610 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,610 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,611 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:23,611 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:23,611 INFO sqlalchemy.engine.Engine [cached since 59.1s ago] ()
2025-12-11 10:20:23,611 - sqlalchemy.engine.Engine - INFO - [cached since 59.1s ago] ()
2025-12-11 10:20:23,612 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:23,612 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:23,613 INFO sqlalchemy.engine.Engine [cached since 59.08s ago] ()
2025-12-11 10:20:23,613 - sqlalchemy.engine.Engine - INFO - [cached since 59.08s ago] ()
2025-12-11 10:20:23,629 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0715s
INFO:     127.0.0.1:49731 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:20:23,629 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0735s
INFO:     127.0.0.1:49730 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:20:23,630 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,630 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,630 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:20:23,630 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:23,636 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,636 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,637 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,637 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,637 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,637 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,638 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,638 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:23,638 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,638 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,638 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,638 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,638 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,638 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,639 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,639 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:23,639 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,639 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:23,639 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,639 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,639 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,639 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine [cached since 59.11s ago] ()
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - [cached since 59.11s ago] ()
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:23,640 INFO sqlalchemy.engine.Engine [cached since 59.13s ago] ()
2025-12-11 10:20:23,640 - sqlalchemy.engine.Engine - INFO - [cached since 59.13s ago] ()
2025-12-11 10:20:23,641 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,641 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:23,641 INFO sqlalchemy.engine.Engine [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,641 - sqlalchemy.engine.Engine - INFO - [cached since 681.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:23,642 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0112s
INFO:     127.0.0.1:49730 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:20:23,642 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0116s
INFO:     127.0.0.1:49731 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:20:23,643 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:23,643 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:23,643 INFO sqlalchemy.engine.Engine [cached since 41.24s ago] (100, 0)
2025-12-11 10:20:23,643 - sqlalchemy.engine.Engine - INFO - [cached since 41.24s ago] (100, 0)
2025-12-11 10:20:23,643 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,643 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,643 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,643 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:23,644 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,644 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:23,644 INFO sqlalchemy.engine.Engine [cached since 43.27s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,644 - sqlalchemy.engine.Engine - INFO - [cached since 43.27s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:23,646 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,646 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:23,646 INFO sqlalchemy.engine.Engine [cached since 43.26s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,646 - sqlalchemy.engine.Engine - INFO - [cached since 43.26s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:23,648 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0665s
INFO:     127.0.0.1:49724 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:23,648 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:23,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:24,803 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:20:29,851 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:29,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:29,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:29,859 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:29,859 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:29,859 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,859 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,862 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:29,862 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:29,862 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,862 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,866 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:29,866 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:29,866 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,866 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,869 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:29,869 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:29,869 INFO sqlalchemy.engine.Engine [cached since 687.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:29,869 - sqlalchemy.engine.Engine - INFO - [cached since 687.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:29,872 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:29,872 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:29,873 INFO sqlalchemy.engine.Engine [cached since 47.47s ago] (100, 0)
2025-12-11 10:20:29,873 - sqlalchemy.engine.Engine - INFO - [cached since 47.47s ago] (100, 0)
2025-12-11 10:20:29,878 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:29,878 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:29,878 INFO sqlalchemy.engine.Engine [cached since 49.5s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:29,878 - sqlalchemy.engine.Engine - INFO - [cached since 49.5s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:29,883 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:29,883 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:29,884 INFO sqlalchemy.engine.Engine [cached since 49.5s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:29,884 - sqlalchemy.engine.Engine - INFO - [cached since 49.5s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:29,889 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0372s
INFO:     127.0.0.1:49735 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:29,890 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:29,890 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:29,891 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:29,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:29,895 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:29,895 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:29,895 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:29,895 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,895 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,898 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:29,898 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:29,898 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,898 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,909 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:29,909 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:29,909 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,909 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:29,914 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:29,914 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:29,914 INFO sqlalchemy.engine.Engine [cached since 687.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:29,914 - sqlalchemy.engine.Engine - INFO - [cached since 687.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:29,917 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:29,917 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:29,917 INFO sqlalchemy.engine.Engine [cached since 47.51s ago] (100, 0)
2025-12-11 10:20:29,917 - sqlalchemy.engine.Engine - INFO - [cached since 47.51s ago] (100, 0)
2025-12-11 10:20:29,922 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:29,922 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:29,922 INFO sqlalchemy.engine.Engine [cached since 49.54s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:29,922 - sqlalchemy.engine.Engine - INFO - [cached since 49.54s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:29,924 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:29,924 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:29,924 INFO sqlalchemy.engine.Engine [cached since 49.54s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:29,924 - sqlalchemy.engine.Engine - INFO - [cached since 49.54s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:29,930 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0391s
INFO:     127.0.0.1:49735 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:29,931 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:29,931 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:32,418 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:32,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:32,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:32,420 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,420 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,420 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,420 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,421 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,421 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,421 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,421 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,422 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,422 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,422 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,422 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,423 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,423 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,423 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,423 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,425 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,425 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,425 INFO sqlalchemy.engine.Engine [cached since 32.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,425 - sqlalchemy.engine.Engine - INFO - [cached since 32.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,426 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0080s
INFO:     127.0.0.1:49735 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:32,426 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:32,426 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:32,427 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:32,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:32,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:32,429 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,429 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,429 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,429 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,430 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,430 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,430 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,430 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,431 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,431 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,432 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,432 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,433 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,433 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,434 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,434 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,435 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,435 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,436 INFO sqlalchemy.engine.Engine [cached since 32.21s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,436 - sqlalchemy.engine.Engine - INFO - [cached since 32.21s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,436 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0097s
INFO:     127.0.0.1:49735 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:32,437 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:32,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:32,439 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:32,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:32,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:32,440 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,440 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,440 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,440 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,442 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,442 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,442 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,442 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,443 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,443 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,443 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,443 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,444 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,444 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,444 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,444 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,445 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,445 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,445 INFO sqlalchemy.engine.Engine [cached since 32.22s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,445 - sqlalchemy.engine.Engine - INFO - [cached since 32.22s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,447 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0083s
INFO:     127.0.0.1:49735 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:32,447 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:32,447 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:32,448 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:20:32,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:32,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:32,449 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,449 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:32,449 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,449 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,450 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,450 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:32,450 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,450 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,451 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,451 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:32,451 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,451 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:32,452 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,452 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:32,452 INFO sqlalchemy.engine.Engine [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,452 - sqlalchemy.engine.Engine - INFO - [cached since 690.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:32,452 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,452 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:20:32,452 INFO sqlalchemy.engine.Engine [cached since 32.23s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,452 - sqlalchemy.engine.Engine - INFO - [cached since 32.23s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:20:32,454 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0055s
INFO:     127.0.0.1:49735 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:20:32,454 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:32,454 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:38,673 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:38,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:38,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:38,675 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:38,675 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:38,675 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,675 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,677 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:38,677 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:38,677 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,677 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,678 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:38,678 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:38,678 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,678 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,679 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:38,679 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:38,679 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:38,679 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:38,680 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:38,680 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:38,680 INFO sqlalchemy.engine.Engine [cached since 56.28s ago] (100, 0)
2025-12-11 10:20:38,680 - sqlalchemy.engine.Engine - INFO - [cached since 56.28s ago] (100, 0)
2025-12-11 10:20:38,681 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:38,681 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:38,681 INFO sqlalchemy.engine.Engine [cached since 58.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:38,681 - sqlalchemy.engine.Engine - INFO - [cached since 58.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:38,681 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:38,681 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:38,682 INFO sqlalchemy.engine.Engine [cached since 58.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:38,682 - sqlalchemy.engine.Engine - INFO - [cached since 58.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:38,682 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0089s
INFO:     127.0.0.1:49739 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:38,683 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:38,683 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:38,683 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:38,684 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:38,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:38,684 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:38,684 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:38,684 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,684 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,685 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:38,685 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:38,685 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,685 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,686 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:38,686 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:38,686 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,686 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:38,687 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:38,687 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:38,687 INFO sqlalchemy.engine.Engine [cached since 696.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:38,687 - sqlalchemy.engine.Engine - INFO - [cached since 696.6s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:38,689 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:38,689 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:38,689 INFO sqlalchemy.engine.Engine [cached since 56.29s ago] (100, 0)
2025-12-11 10:20:38,689 - sqlalchemy.engine.Engine - INFO - [cached since 56.29s ago] (100, 0)
2025-12-11 10:20:38,690 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:38,690 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:38,691 INFO sqlalchemy.engine.Engine [cached since 58.31s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:38,691 - sqlalchemy.engine.Engine - INFO - [cached since 58.31s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:38,692 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:38,692 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:38,692 INFO sqlalchemy.engine.Engine [cached since 58.31s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:38,692 - sqlalchemy.engine.Engine - INFO - [cached since 58.31s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:38,693 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0096s
INFO:     127.0.0.1:49739 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:38,694 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:38,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:40,076 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:20:40,079 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:20:40,080 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:20:40,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:40,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:40,082 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,082 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,082 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,082 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:20:40,083 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,083 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,084 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,084 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,084 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,084 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,084 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,084 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,084 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,084 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,085 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,085 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:20:40,085 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,085 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,085 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,085 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,085 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,085 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,086 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,086 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,087 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,087 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,087 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,087 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,087 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,087 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:20:40,088 INFO sqlalchemy.engine.Engine [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,088 - sqlalchemy.engine.Engine - INFO - [cached since 698s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:20:40,088 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:40,088 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:20:40,088 INFO sqlalchemy.engine.Engine [cached since 57.69s ago] (100, 0)
2025-12-11 10:20:40,088 - sqlalchemy.engine.Engine - INFO - [cached since 57.69s ago] (100, 0)
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine [cached since 75.58s ago] ()
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - [cached since 75.58s ago] ()
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine [cached since 75.56s ago] ()
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - [cached since 75.56s ago] ()
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:20:40,089 INFO sqlalchemy.engine.Engine [cached since 59.71s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:40,089 - sqlalchemy.engine.Engine - INFO - [cached since 59.71s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:20:40,090 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:40,090 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:20:40,090 INFO sqlalchemy.engine.Engine [cached since 59.71s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:40,090 - sqlalchemy.engine.Engine - INFO - [cached since 59.71s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:20:40,092 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0132s
INFO:     127.0.0.1:49744 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:20:40,092 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0119s
INFO:     127.0.0.1:49745 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:20:40,093 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0161s
INFO:     127.0.0.1:49739 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:20:40,093 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:40,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:40,093 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:40,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:20:40,093 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:20:40,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:24,804 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:21:31,871 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:21:31,872 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:21:31,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:31,874 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:31,874 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:31,874 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:31,874 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,874 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:31,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:31,875 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:31,875 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:31,875 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,875 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,876 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:31,876 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:31,876 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,876 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,877 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:31,877 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:31,877 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,877 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,878 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:31,878 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:31,878 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,878 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,879 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:31,879 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:31,879 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,879 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:31,879 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:31,879 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:31,879 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:31,879 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine [cached since 749.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - [cached since 749.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine [cached since 127.3s ago] ()
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - [cached since 127.3s ago] ()
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:21:31,880 INFO sqlalchemy.engine.Engine [cached since 127.4s ago] ()
2025-12-11 10:21:31,880 - sqlalchemy.engine.Engine - INFO - [cached since 127.4s ago] ()
2025-12-11 10:21:31,881 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0087s
INFO:     127.0.0.1:49765 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:21:31,882 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:31,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:31,882 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0114s
INFO:     127.0.0.1:49764 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:21:31,883 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:31,883 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:36,033 - main - INFO - üåê OPTIONS /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:21:36,033 - main - INFO - ‚úÖ OPTIONS /api/v1/admin/countries - Status: 200 - Time: 0.0003s
INFO:     127.0.0.1:49764 - "OPTIONS /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:21:36,034 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:21:36,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:36,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:36,038 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:36,038 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:36,038 INFO sqlalchemy.engine.Engine [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,038 - sqlalchemy.engine.Engine - INFO - [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,041 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:36,041 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:36,042 INFO sqlalchemy.engine.Engine [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,042 - sqlalchemy.engine.Engine - INFO - [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,044 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:36,044 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:36,044 INFO sqlalchemy.engine.Engine [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,044 - sqlalchemy.engine.Engine - INFO - [cached since 753.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:21:36,047 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:36,047 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:36,047 INFO sqlalchemy.engine.Engine [cached since 753.9s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:36,047 - sqlalchemy.engine.Engine - INFO - [cached since 753.9s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:21:36,049 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:36,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:36,050 - core.database - ERROR - Database session error: Missing required permission: admin:all
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/core/dependencies.py", line 111, in __call__
    raise ForbiddenException(
    ...<2 lines>...
    )
core.exceptions.ForbiddenException: Missing required permission: admin:all
2025-12-11 10:21:36,052 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0179s
INFO:     127.0.0.1:49765 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:21:45,163 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:21:45,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,173 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:21:45,173 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:21:45,173 INFO sqlalchemy.engine.Engine [cached since 99.58s ago] ('maiwand@inara.org',)
2025-12-11 10:21:45,173 - sqlalchemy.engine.Engine - INFO - [cached since 99.58s ago] ('maiwand@inara.org',)
2025-12-11 10:21:45,177 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,177 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,177 INFO sqlalchemy.engine.Engine [cached since 136.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,177 - sqlalchemy.engine.Engine - INFO - [cached since 136.1s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,178 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,178 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,178 INFO sqlalchemy.engine.Engine [cached since 136.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,178 - sqlalchemy.engine.Engine - INFO - [cached since 136.1s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,452 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:21:45,452 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:21:45,452 INFO sqlalchemy.engine.Engine [cached since 99.58s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('f6cb6fa5-707e-4286-985c-598f61fa26a1'), datetime.datetime(2025, 12, 11, 7, 21, 45, 452100), datetime.datetime(2025, 12, 11, 7, 21, 45, 452103), False, None)
2025-12-11 10:21:45,452 - sqlalchemy.engine.Engine - INFO - [cached since 99.58s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('f6cb6fa5-707e-4286-985c-598f61fa26a1'), datetime.datetime(2025, 12, 11, 7, 21, 45, 452100), datetime.datetime(2025, 12, 11, 7, 21, 45, 452103), False, None)
2025-12-11 10:21:45,456 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,456 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,456 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,456 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,489 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,489 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,489 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,489 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,493 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,493 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,493 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,493 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,494 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,494 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,494 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,494 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,496 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:21:45,496 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:21:45,496 INFO sqlalchemy.engine.Engine [cached since 99.61s ago] (datetime.datetime(2025, 12, 11, 7, 21, 45, 496028), datetime.datetime(2025, 12, 11, 7, 21, 45, 496347), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:21:45,496 - sqlalchemy.engine.Engine - INFO - [cached since 99.61s ago] (datetime.datetime(2025, 12, 11, 7, 21, 45, 496028), datetime.datetime(2025, 12, 11, 7, 21, 45, 496347), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:21:45,500 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:21:45,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:21:45,501 - modules.auth.services - INFO - User maiwand@inara.org logged in successfully
2025-12-11 10:21:45,501 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.3380s
INFO:     127.0.0.1:49774 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:21:45,507 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:21:45,508 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,509 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,509 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,509 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,509 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,510 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,510 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,510 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,510 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,510 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,510 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,510 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,510 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,511 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,511 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,511 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,511 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,512 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,512 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,512 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,512 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,512 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,512 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,512 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,512 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,513 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,513 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,513 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,513 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,513 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,513 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,513 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,513 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,514 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0067s
INFO:     127.0.0.1:49774 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:21:45,514 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:45,514 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:45,533 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:21:45,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,535 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,535 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,535 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,535 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,536 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,536 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,536 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,536 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,536 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,536 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,537 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,537 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,537 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,537 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,537 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,537 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,538 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,538 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,538 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,538 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,539 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,539 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,539 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,539 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,540 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,540 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,540 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,540 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,541 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,541 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,541 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,541 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,543 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0101s
INFO:     127.0.0.1:49774 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:21:45,544 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:45,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:45,544 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:21:45,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,547 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,547 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,547 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,547 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,549 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,549 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,549 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,549 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,550 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,550 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,550 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,550 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,551 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,551 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,551 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,551 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,552 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,552 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,552 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,552 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,553 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,553 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,553 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,553 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,554 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,554 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,554 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,554 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,555 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,555 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,555 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,555 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,556 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0120s
INFO:     127.0.0.1:49774 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:21:45,557 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:45,557 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:45,557 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:21:45,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,559 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,559 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,559 INFO sqlalchemy.engine.Engine [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,559 - sqlalchemy.engine.Engine - INFO - [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,560 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,560 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,560 INFO sqlalchemy.engine.Engine [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,560 - sqlalchemy.engine.Engine - INFO - [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,561 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,561 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,561 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,561 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,562 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,562 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,562 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,562 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,563 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,563 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,564 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,564 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,565 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,565 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,565 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,565 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,566 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,566 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,566 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,566 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,567 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,567 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,567 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,567 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,568 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0104s
INFO:     127.0.0.1:49774 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:21:45,568 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:45,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:45,569 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:21:45,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:45,570 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:45,570 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,570 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:45,570 INFO sqlalchemy.engine.Engine [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,570 - sqlalchemy.engine.Engine - INFO - [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,572 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,572 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:45,572 INFO sqlalchemy.engine.Engine [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,572 - sqlalchemy.engine.Engine - INFO - [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,573 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,573 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:45,573 INFO sqlalchemy.engine.Engine [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,573 - sqlalchemy.engine.Engine - INFO - [cached since 763.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:45,574 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,574 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:45,574 INFO sqlalchemy.engine.Engine [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,574 - sqlalchemy.engine.Engine - INFO - [cached since 763.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:45,575 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,575 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:21:45,575 INFO sqlalchemy.engine.Engine [cached since 105.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,575 - sqlalchemy.engine.Engine - INFO - [cached since 105.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:21:45,576 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,576 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:21:45,576 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,576 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:21:45,576 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,576 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:21:45,576 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,576 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:21:45,577 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,577 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:21:45,577 INFO sqlalchemy.engine.Engine [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,577 - sqlalchemy.engine.Engine - INFO - [cached since 105.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:21:45,578 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0087s
INFO:     127.0.0.1:49774 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:21:45,578 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:45,578 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:49,031 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:21:49,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:49,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:49,055 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:49,055 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:49,055 INFO sqlalchemy.engine.Engine [cached since 767s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,055 - sqlalchemy.engine.Engine - INFO - [cached since 767s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,057 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:49,057 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:49,058 INFO sqlalchemy.engine.Engine [cached since 766.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,058 - sqlalchemy.engine.Engine - INFO - [cached since 766.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,062 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:49,062 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:49,062 INFO sqlalchemy.engine.Engine [cached since 766.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,062 - sqlalchemy.engine.Engine - INFO - [cached since 766.9s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:49,064 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:49,064 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:49,064 INFO sqlalchemy.engine.Engine [cached since 766.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:49,064 - sqlalchemy.engine.Engine - INFO - [cached since 766.9s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:49,065 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:21:49,065 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:21:49,066 INFO sqlalchemy.engine.Engine [cached since 766.9s ago] ()
2025-12-11 10:21:49,066 - sqlalchemy.engine.Engine - INFO - [cached since 766.9s ago] ()
2025-12-11 10:21:49,069 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0379s
INFO:     127.0.0.1:49774 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:21:49,069 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:49,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:21:57,521 - main - INFO - üåê POST /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:21:57,524 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:57,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:57,525 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:57,525 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:57,525 INFO sqlalchemy.engine.Engine [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,525 - sqlalchemy.engine.Engine - INFO - [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,526 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:57,526 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:57,526 INFO sqlalchemy.engine.Engine [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,526 - sqlalchemy.engine.Engine - INFO - [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,526 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:57,526 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:57,526 INFO sqlalchemy.engine.Engine [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,526 - sqlalchemy.engine.Engine - INFO - [cached since 775.4s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:57,527 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:57,527 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:57,527 INFO sqlalchemy.engine.Engine [cached since 775.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:57,527 - sqlalchemy.engine.Engine - INFO - [cached since 775.4s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:57,528 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:21:57,528 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.country_code = $1::VARCHAR AND country_configs.is_deleted = false
2025-12-11 10:21:57,528 INFO sqlalchemy.engine.Engine [cached since 642s ago] ('US',)
2025-12-11 10:21:57,528 - sqlalchemy.engine.Engine - INFO - [cached since 642s ago] ('US',)
2025-12-11 10:21:57,529 INFO sqlalchemy.engine.Engine INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:21:57,529 - sqlalchemy.engine.Engine - INFO - INSERT INTO country_configs (country_code, country_name, default_currency, timezone, working_hours_per_week, working_days_per_week, public_holidays, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::NUMERIC(5, 2), $6::INTEGER, $7::VARCHAR, $8::BOOLEAN, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:21:57,529 INFO sqlalchemy.engine.Engine [cached since 642s ago] ('US', 'United States', 'USD', 'America/New_York', 40.0, 5, None, True, UUID('e8b44978-ec24-41f3-b69e-ae4c546f1517'), datetime.datetime(2025, 12, 11, 7, 21, 57, 529134), datetime.datetime(2025, 12, 11, 7, 21, 57, 529136), False, None)
2025-12-11 10:21:57,529 - sqlalchemy.engine.Engine - INFO - [cached since 642s ago] ('US', 'United States', 'USD', 'America/New_York', 40.0, 5, None, True, UUID('e8b44978-ec24-41f3-b69e-ae4c546f1517'), datetime.datetime(2025, 12, 11, 7, 21, 57, 529134), datetime.datetime(2025, 12, 11, 7, 21, 57, 529136), False, None)
2025-12-11 10:21:57,529 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:21:57,529 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.id = $1::UUID
2025-12-11 10:21:57,529 INFO sqlalchemy.engine.Engine [cached since 642s ago] (UUID('e8b44978-ec24-41f3-b69e-ae4c546f1517'),)
2025-12-11 10:21:57,529 - sqlalchemy.engine.Engine - INFO - [cached since 642s ago] (UUID('e8b44978-ec24-41f3-b69e-ae4c546f1517'),)
2025-12-11 10:21:57,530 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:21:57,530 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:21:57,530 - main - INFO - ‚úÖ POST /api/v1/admin/countries - Status: 201 - Time: 0.0087s
INFO:     127.0.0.1:49779 - "POST /api/v1/admin/countries HTTP/1.1" 201 Created
2025-12-11 10:21:59,575 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:21:59,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:21:59,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:21:59,579 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:59,579 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:21:59,579 INFO sqlalchemy.engine.Engine [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,579 - sqlalchemy.engine.Engine - INFO - [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,580 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:59,580 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:21:59,580 INFO sqlalchemy.engine.Engine [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,580 - sqlalchemy.engine.Engine - INFO - [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,581 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:59,581 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:21:59,581 INFO sqlalchemy.engine.Engine [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,581 - sqlalchemy.engine.Engine - INFO - [cached since 777.5s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:21:59,582 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:59,582 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:21:59,582 INFO sqlalchemy.engine.Engine [cached since 777.5s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:59,582 - sqlalchemy.engine.Engine - INFO - [cached since 777.5s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:21:59,583 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:21:59,583 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:21:59,583 INFO sqlalchemy.engine.Engine [cached since 777.5s ago] ()
2025-12-11 10:21:59,583 - sqlalchemy.engine.Engine - INFO - [cached since 777.5s ago] ()
2025-12-11 10:21:59,585 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0090s
INFO:     127.0.0.1:49779 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:21:59,585 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:21:59,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:06,580 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:22:06,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,589 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,590 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:22:06,590 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:22:06,590 INFO sqlalchemy.engine.Engine [cached since 121s ago] ('gokce@inara.org',)
2025-12-11 10:22:06,590 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] ('gokce@inara.org',)
2025-12-11 10:22:06,594 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,594 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,594 INFO sqlalchemy.engine.Engine [cached since 157.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,594 - sqlalchemy.engine.Engine - INFO - [cached since 157.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,596 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,596 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,596 INFO sqlalchemy.engine.Engine [cached since 157.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,596 - sqlalchemy.engine.Engine - INFO - [cached since 157.5s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,852 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:22:06,852 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:22:06,852 INFO sqlalchemy.engine.Engine [cached since 121s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('15a4770e-9a71-4113-8bff-1a57a806c2d0'), datetime.datetime(2025, 12, 11, 7, 22, 6, 852518), datetime.datetime(2025, 12, 11, 7, 22, 6, 852522), False, None)
2025-12-11 10:22:06,852 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('15a4770e-9a71-4113-8bff-1a57a806c2d0'), datetime.datetime(2025, 12, 11, 7, 22, 6, 852518), datetime.datetime(2025, 12, 11, 7, 22, 6, 852522), False, None)
2025-12-11 10:22:06,856 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,856 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,856 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,856 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,856 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,856 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,856 INFO sqlalchemy.engine.Engine [cached since 784.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,856 - sqlalchemy.engine.Engine - INFO - [cached since 784.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,857 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,857 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,857 INFO sqlalchemy.engine.Engine [cached since 784.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,857 - sqlalchemy.engine.Engine - INFO - [cached since 784.7s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,858 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,858 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,858 INFO sqlalchemy.engine.Engine [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,858 - sqlalchemy.engine.Engine - INFO - [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,858 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:22:06,858 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:22:06,858 INFO sqlalchemy.engine.Engine [cached since 121s ago] (datetime.datetime(2025, 12, 11, 7, 22, 6, 858565), datetime.datetime(2025, 12, 11, 7, 22, 6, 858812), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:22:06,858 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] (datetime.datetime(2025, 12, 11, 7, 22, 6, 858565), datetime.datetime(2025, 12, 11, 7, 22, 6, 858812), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:22:06,860 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:22:06,860 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:22:06,861 - modules.auth.services - INFO - User gokce@inara.org logged in successfully
2025-12-11 10:22:06,861 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2804s
INFO:     127.0.0.1:49782 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:22:06,866 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:22:06,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,868 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,868 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,868 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,868 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,869 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,869 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,869 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,869 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,869 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,869 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,869 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,869 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,870 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,870 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,870 INFO sqlalchemy.engine.Engine [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,870 - sqlalchemy.engine.Engine - INFO - [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,871 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,871 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,871 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,871 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,871 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,871 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,871 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,871 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,872 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,872 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,872 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,872 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,872 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,872 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,872 INFO sqlalchemy.engine.Engine [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,872 - sqlalchemy.engine.Engine - INFO - [cached since 784.7s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,873 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0069s
INFO:     127.0.0.1:49782 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:22:06,873 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:06,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:06,887 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:22:06,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,889 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,889 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,889 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,889 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,891 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,891 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,891 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,891 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,892 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,892 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,892 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,892 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,893 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,893 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,893 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,893 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,894 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,894 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,894 INFO sqlalchemy.engine.Engine [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,894 - sqlalchemy.engine.Engine - INFO - [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,895 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0078s
INFO:     127.0.0.1:49782 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:22:06,896 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:06,896 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:06,896 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:22:06,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,897 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,897 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,897 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,897 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,898 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,898 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,899 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,899 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,900 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,900 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,900 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,900 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,902 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,902 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,903 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,903 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,905 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,905 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,905 INFO sqlalchemy.engine.Engine [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,905 - sqlalchemy.engine.Engine - INFO - [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,907 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0105s
INFO:     127.0.0.1:49782 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:22:06,907 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:06,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:06,908 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:22:06,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,909 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,909 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,909 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,909 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,910 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,910 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,910 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,910 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,911 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,911 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,911 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,911 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,912 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,912 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,912 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,912 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,914 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,914 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,914 INFO sqlalchemy.engine.Engine [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,914 - sqlalchemy.engine.Engine - INFO - [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,915 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0075s
INFO:     127.0.0.1:49782 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:22:06,916 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:06,916 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:06,917 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:22:06,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:06,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:06,955 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,955 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:06,955 INFO sqlalchemy.engine.Engine [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,955 - sqlalchemy.engine.Engine - INFO - [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,963 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,963 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:06,965 INFO sqlalchemy.engine.Engine [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,965 - sqlalchemy.engine.Engine - INFO - [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,967 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,967 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:06,967 INFO sqlalchemy.engine.Engine [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,967 - sqlalchemy.engine.Engine - INFO - [cached since 784.9s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:06,968 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,968 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:06,968 INFO sqlalchemy.engine.Engine [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,968 - sqlalchemy.engine.Engine - INFO - [cached since 784.8s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:06,969 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,969 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:22:06,969 INFO sqlalchemy.engine.Engine [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,969 - sqlalchemy.engine.Engine - INFO - [cached since 126.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:22:06,970 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0531s
INFO:     127.0.0.1:49782 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:22:06,971 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:06,971 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:10,079 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:22:10,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:10,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:10,082 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:10,082 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:10,082 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,082 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,084 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:10,084 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:10,084 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,084 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,086 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:10,086 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:10,086 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,086 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,087 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:10,087 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:10,087 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:10,087 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:10,088 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:10,088 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:10,088 INFO sqlalchemy.engine.Engine [cached since 147.7s ago] (100, 0)
2025-12-11 10:22:10,088 - sqlalchemy.engine.Engine - INFO - [cached since 147.7s ago] (100, 0)
2025-12-11 10:22:10,089 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:10,089 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:10,089 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:10,089 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:10,090 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:10,090 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:10,090 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:10,090 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:10,092 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0125s
INFO:     127.0.0.1:49782 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:22:10,092 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:10,092 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:10,093 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:22:10,094 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:10,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:10,095 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:10,095 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:10,095 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,095 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,096 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:10,096 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:10,096 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,096 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,097 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:10,097 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:10,097 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,097 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:10,098 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:10,098 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:10,098 INFO sqlalchemy.engine.Engine [cached since 788s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:10,098 - sqlalchemy.engine.Engine - INFO - [cached since 788s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:10,099 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:10,099 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:10,099 INFO sqlalchemy.engine.Engine [cached since 147.7s ago] (100, 0)
2025-12-11 10:22:10,099 - sqlalchemy.engine.Engine - INFO - [cached since 147.7s ago] (100, 0)
2025-12-11 10:22:10,100 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:10,100 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:10,100 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:10,100 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:10,101 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:10,101 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:10,101 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:10,101 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:10,102 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0094s
INFO:     127.0.0.1:49782 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:22:10,103 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:10,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:11,457 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:22:11,459 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:22:11,462 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:22:11,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:11,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:11,463 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,463 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,463 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,463 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:11,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:11,464 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,464 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,464 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,464 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:22:11,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:22:11,464 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,464 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:22:11,464 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,464 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,465 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,465 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,466 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,466 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:22:11,467 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,467 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:22:11,468 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,468 - sqlalchemy.engine.Engine - INFO - [cached since 789.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:22:11,469 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,469 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,469 INFO sqlalchemy.engine.Engine [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,469 - sqlalchemy.engine.Engine - INFO - [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,469 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:11,469 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:22:11,469 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] (100, 0)
2025-12-11 10:22:11,469 - sqlalchemy.engine.Engine - INFO - [cached since 149.1s ago] (100, 0)
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - [cached since 789.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine [cached since 167s ago] ()
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - [cached since 167s ago] ()
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine [cached since 151.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:22:11,470 INFO sqlalchemy.engine.Engine [cached since 166.9s ago] ()
2025-12-11 10:22:11,470 - sqlalchemy.engine.Engine - INFO - [cached since 166.9s ago] ()
2025-12-11 10:22:11,471 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:11,471 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:22:11,471 INFO sqlalchemy.engine.Engine [cached since 151.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:11,471 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:22:11,471 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0119s
INFO:     127.0.0.1:49785 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:22:11,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:11,472 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:11,472 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0152s
INFO:     127.0.0.1:49782 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:22:11,473 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0106s
INFO:     127.0.0.1:49786 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:22:11,473 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:11,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:11,473 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:22:11,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:22:24,804 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:23:24,804 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:24:24,804 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:25:24,805 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:25:31,272 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:25:31,278 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:25:31,279 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:25:31,279 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:25:31,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,289 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,289 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,289 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,289 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,290 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,290 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,290 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,290 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,293 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,293 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,293 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,293 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,293 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,293 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,293 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,293 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,295 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,295 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,295 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,295 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,299 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,299 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,299 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,299 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,335 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,335 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,336 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,336 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,347 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,347 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,347 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,347 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,354 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,354 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,354 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,354 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,356 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,356 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,356 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,356 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,358 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,358 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,358 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,358 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,359 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,359 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,360 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,360 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,360 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,360 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,363 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:25:31,363 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:25:31,363 INFO sqlalchemy.engine.Engine [cached since 349s ago] (100, 0)
2025-12-11 10:25:31,363 - sqlalchemy.engine.Engine - INFO - [cached since 349s ago] (100, 0)
2025-12-11 10:25:31,364 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,364 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,364 INFO sqlalchemy.engine.Engine [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,364 - sqlalchemy.engine.Engine - INFO - [cached since 989.2s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,364 - core.database - ERROR - Database session error: Missing required permission: admin:all
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/core/dependencies.py", line 111, in __call__
    raise ForbiddenException(
    ...<2 lines>...
    )
core.exceptions.ForbiddenException: Missing required permission: admin:all
2025-12-11 10:25:31,367 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:25:31,367 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:25:31,367 INFO sqlalchemy.engine.Engine [cached since 351s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:25:31,367 - sqlalchemy.engine.Engine - INFO - [cached since 351s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:25:31,368 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:25:31,368 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:25:31,368 INFO sqlalchemy.engine.Engine [cached since 366.8s ago] ()
2025-12-11 10:25:31,368 - sqlalchemy.engine.Engine - INFO - [cached since 366.8s ago] ()
2025-12-11 10:25:31,368 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0888s
INFO:     127.0.0.1:49881 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:25:31,369 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,369 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,369 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,369 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,369 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:25:31,369 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:25:31,369 INFO sqlalchemy.engine.Engine [cached since 351s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:25:31,369 - sqlalchemy.engine.Engine - INFO - [cached since 351s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:25:31,370 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,370 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,371 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,371 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,371 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0922s
INFO:     127.0.0.1:49880 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:25:31,371 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:25:31,372 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,372 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,372 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:25:31,374 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,374 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,374 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,374 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,378 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.1062s
INFO:     127.0.0.1:49877 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:25:31,379 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,379 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,380 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:25:31,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,381 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,381 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,381 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,381 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,381 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:25:31,381 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:25:31,381 INFO sqlalchemy.engine.Engine [cached since 366.9s ago] ()
2025-12-11 10:25:31,381 - sqlalchemy.engine.Engine - INFO - [cached since 366.9s ago] ()
2025-12-11 10:25:31,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,383 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,383 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,383 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,383 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,386 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,386 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,387 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,387 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,388 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.1102s
INFO:     127.0.0.1:49879 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:25:31,389 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,389 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,389 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,389 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,390 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,390 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,390 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,390 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,391 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,391 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:25:31,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,393 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,393 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,393 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,393 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,393 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,395 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,395 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,396 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,396 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,397 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,397 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,397 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,397 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,398 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,398 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,400 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,400 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,400 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,400 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,401 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,401 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,401 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,401 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,401 - core.database - ERROR - Database session error: Missing required permission: admin:all
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/core/dependencies.py", line 111, in __call__
    raise ForbiddenException(
    ...<2 lines>...
    )
core.exceptions.ForbiddenException: Missing required permission: admin:all
2025-12-11 10:25:31,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:25:31,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:25:31,403 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,403 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:25:31,403 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,403 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,403 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:25:31,403 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:25:31,403 INFO sqlalchemy.engine.Engine [cached since 366.9s ago] ()
2025-12-11 10:25:31,403 - sqlalchemy.engine.Engine - INFO - [cached since 366.9s ago] ()
2025-12-11 10:25:31,404 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,404 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,404 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,404 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,404 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0333s
INFO:     127.0.0.1:49883 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:25:31,408 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,408 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,408 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,408 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,409 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,409 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:25:31,410 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,410 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,410 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:25:31,410 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:25:31,410 INFO sqlalchemy.engine.Engine [cached since 349s ago] (100, 0)
2025-12-11 10:25:31,410 - sqlalchemy.engine.Engine - INFO - [cached since 349s ago] (100, 0)
2025-12-11 10:25:31,411 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0381s
INFO:     127.0.0.1:49881 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:25:31,411 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,411 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:25:31,412 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,412 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:25:31,412 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,416 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,416 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:25:31,416 INFO sqlalchemy.engine.Engine [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,416 - sqlalchemy.engine.Engine - INFO - [cached since 989.3s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:25:31,420 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:25:31,420 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:25:31,420 INFO sqlalchemy.engine.Engine [cached since 366.9s ago] ()
2025-12-11 10:25:31,420 - sqlalchemy.engine.Engine - INFO - [cached since 366.9s ago] ()
2025-12-11 10:25:31,468 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:25:31,468 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:25:31,468 INFO sqlalchemy.engine.Engine [cached since 351.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:25:31,468 - sqlalchemy.engine.Engine - INFO - [cached since 351.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:25:31,476 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0850s
INFO:     127.0.0.1:49877 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:25:31,477 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:25:31,477 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:25:31,477 INFO sqlalchemy.engine.Engine [cached since 351.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:25:31,477 - sqlalchemy.engine.Engine - INFO - [cached since 351.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:25:31,479 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:25:31,480 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.1002s
INFO:     127.0.0.1:49880 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:25:31,481 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:25:31,481 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:17,317 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:26:17,329 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:17,329 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:17,330 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:17,330 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:17,330 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,330 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,333 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:17,333 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:17,333 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,333 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,336 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:17,336 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:17,336 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,336 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,337 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:17,337 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:17,337 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:17,337 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:17,339 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:17,339 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:17,339 INFO sqlalchemy.engine.Engine [cached since 394.9s ago] (100, 0)
2025-12-11 10:26:17,339 - sqlalchemy.engine.Engine - INFO - [cached since 394.9s ago] (100, 0)
2025-12-11 10:26:17,341 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:17,341 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:17,341 INFO sqlalchemy.engine.Engine [cached since 397s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:17,341 - sqlalchemy.engine.Engine - INFO - [cached since 397s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:17,342 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:17,342 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:17,342 INFO sqlalchemy.engine.Engine [cached since 397s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:17,342 - sqlalchemy.engine.Engine - INFO - [cached since 397s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:17,345 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0275s
INFO:     127.0.0.1:49934 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:26:17,346 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:17,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:17,347 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:26:17,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:17,352 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:17,352 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:17,352 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:17,352 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,352 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,355 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:17,355 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:17,355 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,355 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,357 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:17,357 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:17,357 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,357 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:17,359 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:17,359 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:17,359 INFO sqlalchemy.engine.Engine [cached since 1035s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:17,359 - sqlalchemy.engine.Engine - INFO - [cached since 1035s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:17,362 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:17,362 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:17,362 INFO sqlalchemy.engine.Engine [cached since 395s ago] (100, 0)
2025-12-11 10:26:17,362 - sqlalchemy.engine.Engine - INFO - [cached since 395s ago] (100, 0)
2025-12-11 10:26:17,364 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:17,364 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:17,365 INFO sqlalchemy.engine.Engine [cached since 397s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:17,365 - sqlalchemy.engine.Engine - INFO - [cached since 397s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:17,378 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:17,378 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:17,378 INFO sqlalchemy.engine.Engine [cached since 397s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:17,378 - sqlalchemy.engine.Engine - INFO - [cached since 397s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:17,381 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0337s
INFO:     127.0.0.1:49934 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:26:17,382 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:17,382 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:19,109 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:26:19,111 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:26:19,112 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:26:19,113 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:26:19,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:19,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,115 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,115 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:19,116 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:19,116 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,116 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:19,116 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,116 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,116 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,116 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,116 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,116 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,117 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,117 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,117 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,117 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,118 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,118 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,118 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,118 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,119 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,119 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,120 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,120 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,120 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,120 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,120 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,120 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:19,120 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,120 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,121 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:19,121 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:26:19,121 INFO sqlalchemy.engine.Engine [cached since 396.7s ago] (100, 0)
2025-12-11 10:26:19,121 - sqlalchemy.engine.Engine - INFO - [cached since 396.7s ago] (100, 0)
2025-12-11 10:26:19,121 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,121 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,121 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,121 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:19,122 INFO sqlalchemy.engine.Engine [cached since 398.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:19,122 - sqlalchemy.engine.Engine - INFO - [cached since 398.7s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:19,123 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:26:19,123 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:26:19,123 INFO sqlalchemy.engine.Engine [cached since 414.6s ago] ()
2025-12-11 10:26:19,123 - sqlalchemy.engine.Engine - INFO - [cached since 414.6s ago] ()
2025-12-11 10:26:19,123 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:19,123 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:19,123 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,123 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:19,123 INFO sqlalchemy.engine.Engine [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,123 - sqlalchemy.engine.Engine - INFO - [cached since 1037s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:19,124 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:19,124 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:19,124 INFO sqlalchemy.engine.Engine [cached since 398.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:19,124 - sqlalchemy.engine.Engine - INFO - [cached since 398.7s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:19,124 - core.database - ERROR - Database session error: Missing required permission: admin:all
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/core/dependencies.py", line 111, in __call__
    raise ForbiddenException(
    ...<2 lines>...
    )
core.exceptions.ForbiddenException: Missing required permission: admin:all
2025-12-11 10:26:19,126 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:26:19,126 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:26:19,126 INFO sqlalchemy.engine.Engine [cached since 414.6s ago] ()
2025-12-11 10:26:19,126 - sqlalchemy.engine.Engine - INFO - [cached since 414.6s ago] ()
2025-12-11 10:26:19,126 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0147s
INFO:     127.0.0.1:49941 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:26:19,126 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0131s
INFO:     127.0.0.1:49944 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:26:19,127 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:19,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:19,127 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0184s
INFO:     127.0.0.1:49934 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:26:19,127 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0149s
INFO:     127.0.0.1:49943 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:26:19,128 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:19,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:19,128 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:19,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:24,806 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:26:34,455 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:26:34,460 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,460 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:34,460 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:34,460 INFO sqlalchemy.engine.Engine [cached since 388.9s ago] ('gokce@inara.org',)
2025-12-11 10:26:34,460 - sqlalchemy.engine.Engine - INFO - [cached since 388.9s ago] ('gokce@inara.org',)
2025-12-11 10:26:34,463 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,463 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,463 INFO sqlalchemy.engine.Engine [cached since 425.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,463 - sqlalchemy.engine.Engine - INFO - [cached since 425.4s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,466 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,466 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,467 INFO sqlalchemy.engine.Engine [cached since 425.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,467 - sqlalchemy.engine.Engine - INFO - [cached since 425.4s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,720 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:34,720 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:34,721 INFO sqlalchemy.engine.Engine [cached since 388.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1acacd6d-2710-4c4d-b7a2-7b73bcf6500d'), datetime.datetime(2025, 12, 11, 7, 26, 34, 720906), datetime.datetime(2025, 12, 11, 7, 26, 34, 720911), False, None)
2025-12-11 10:26:34,721 - sqlalchemy.engine.Engine - INFO - [cached since 388.8s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1acacd6d-2710-4c4d-b7a2-7b73bcf6500d'), datetime.datetime(2025, 12, 11, 7, 26, 34, 720906), datetime.datetime(2025, 12, 11, 7, 26, 34, 720911), False, None)
2025-12-11 10:26:34,723 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,723 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,723 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,723 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,724 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,724 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,724 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,724 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,725 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,725 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,725 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,725 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,725 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,725 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,725 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,725 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,726 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:34,726 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:34,726 INFO sqlalchemy.engine.Engine [cached since 388.8s ago] (datetime.datetime(2025, 12, 11, 7, 26, 34, 726058), datetime.datetime(2025, 12, 11, 7, 26, 34, 726497), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:26:34,726 - sqlalchemy.engine.Engine - INFO - [cached since 388.8s ago] (datetime.datetime(2025, 12, 11, 7, 26, 34, 726058), datetime.datetime(2025, 12, 11, 7, 26, 34, 726497), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:26:34,726 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:26:34,726 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:26:34,729 - modules.auth.services - INFO - User gokce@inara.org logged in successfully
2025-12-11 10:26:34,729 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2731s
INFO:     127.0.0.1:49949 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:26:34,735 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:26:34,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,737 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,737 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,737 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,737 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,755 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,755 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,756 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,756 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,782 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,782 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,782 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,782 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,785 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,785 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,785 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,785 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,798 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,798 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,799 INFO sqlalchemy.engine.Engine [cached since 1053s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,799 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,826 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,826 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,826 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,826 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,827 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,827 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,827 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,827 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,830 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,830 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,830 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,830 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,831 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0965s
INFO:     127.0.0.1:49949 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:26:34,832 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:34,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:34,883 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:34,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,885 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,885 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,885 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,885 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,886 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,886 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,886 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,886 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,887 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,887 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,887 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,887 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,888 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,888 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,888 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,888 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,889 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,889 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,889 INFO sqlalchemy.engine.Engine [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,889 - sqlalchemy.engine.Engine - INFO - [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,891 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0081s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:34,892 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:34,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:34,892 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:34,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,894 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,894 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,894 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,894 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,894 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,895 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,895 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,895 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,895 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,896 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,896 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,896 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,896 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,897 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,897 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,897 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,897 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,899 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,899 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,899 INFO sqlalchemy.engine.Engine [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,899 - sqlalchemy.engine.Engine - INFO - [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,900 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0080s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:34,901 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:34,901 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:34,902 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:34,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,904 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,904 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,904 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,904 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,904 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,906 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,906 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,906 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,906 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,907 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,907 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,907 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,907 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,908 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,908 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,908 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,908 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,909 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,909 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,909 INFO sqlalchemy.engine.Engine [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,909 - sqlalchemy.engine.Engine - INFO - [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,910 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0075s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:34,910 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:34,910 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:34,911 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:34,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:34,912 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:34,912 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,912 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:34,912 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,912 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,913 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,913 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:34,913 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,913 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,914 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,914 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:34,914 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,914 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:34,914 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,914 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:34,914 INFO sqlalchemy.engine.Engine [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,914 - sqlalchemy.engine.Engine - INFO - [cached since 1053s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:34,915 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,915 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:34,915 INFO sqlalchemy.engine.Engine [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,915 - sqlalchemy.engine.Engine - INFO - [cached since 394.7s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:34,917 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0059s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:34,917 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:34,917 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:38,125 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:26:38,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,128 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:38,128 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:38,128 INFO sqlalchemy.engine.Engine [cached since 392.5s ago] ('gokce@inara.org',)
2025-12-11 10:26:38,128 - sqlalchemy.engine.Engine - INFO - [cached since 392.5s ago] ('gokce@inara.org',)
2025-12-11 10:26:38,130 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,130 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,130 INFO sqlalchemy.engine.Engine [cached since 429.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,130 - sqlalchemy.engine.Engine - INFO - [cached since 429.1s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,131 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,131 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,131 INFO sqlalchemy.engine.Engine [cached since 429.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,131 - sqlalchemy.engine.Engine - INFO - [cached since 429.1s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,379 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:38,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:38,379 INFO sqlalchemy.engine.Engine [cached since 392.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('dec831b4-bd5f-41a8-b2e8-fe6c12cf9e5c'), datetime.datetime(2025, 12, 11, 7, 26, 38, 379245), datetime.datetime(2025, 12, 11, 7, 26, 38, 379250), False, None)
2025-12-11 10:26:38,379 - sqlalchemy.engine.Engine - INFO - [cached since 392.5s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'), 'gokce@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('dec831b4-bd5f-41a8-b2e8-fe6c12cf9e5c'), datetime.datetime(2025, 12, 11, 7, 26, 38, 379245), datetime.datetime(2025, 12, 11, 7, 26, 38, 379250), False, None)
2025-12-11 10:26:38,380 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,380 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,380 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,380 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,381 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,381 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,381 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,381 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,382 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,382 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,382 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,382 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,382 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,382 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,382 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,382 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,383 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:38,383 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:38,383 INFO sqlalchemy.engine.Engine [cached since 392.5s ago] (datetime.datetime(2025, 12, 11, 7, 26, 38, 383246), datetime.datetime(2025, 12, 11, 7, 26, 38, 383453), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:26:38,383 - sqlalchemy.engine.Engine - INFO - [cached since 392.5s ago] (datetime.datetime(2025, 12, 11, 7, 26, 38, 383246), datetime.datetime(2025, 12, 11, 7, 26, 38, 383453), UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'))
2025-12-11 10:26:38,383 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:26:38,383 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:26:38,384 - modules.auth.services - INFO - User gokce@inara.org logged in successfully
2025-12-11 10:26:38,384 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2593s
INFO:     127.0.0.1:49949 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:26:38,389 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:26:38,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,392 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,392 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,392 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,392 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,393 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,393 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,393 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,393 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,394 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,394 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,394 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,394 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,395 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,395 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,395 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,395 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,395 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,395 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,395 INFO sqlalchemy.engine.Engine [cached since 1056s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,395 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,396 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,396 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,396 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,396 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,396 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,396 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,396 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,396 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,397 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,397 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,397 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,397 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,397 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0079s
INFO:     127.0.0.1:49949 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:26:38,397 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:38,397 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:38,411 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:38,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,413 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,413 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,413 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,413 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,413 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,415 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,415 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,415 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,415 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,415 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,415 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,416 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,416 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,416 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,416 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,416 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,416 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,417 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,417 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,417 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,417 - sqlalchemy.engine.Engine - INFO - [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,418 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0065s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:38,418 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:38,418 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:38,419 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:38,421 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,421 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,421 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,421 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,421 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,421 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,423 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,423 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,423 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,423 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,424 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,424 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,424 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,424 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,425 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,425 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,425 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,425 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,426 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,426 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,426 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,426 - sqlalchemy.engine.Engine - INFO - [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,427 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0075s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:38,427 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:38,427 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:38,428 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:38,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,431 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,431 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,431 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,431 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,433 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,433 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,433 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,433 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,434 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,434 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,434 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,434 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,435 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,435 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,435 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,435 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,436 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,436 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,436 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,436 - sqlalchemy.engine.Engine - INFO - [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,437 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0090s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:38,437 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:38,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:38,438 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:38,439 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:38,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:38,439 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,439 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:38,444 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,444 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,446 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,446 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:38,446 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,446 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,446 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,446 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:38,447 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,447 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:38,448 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,448 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:38,448 INFO sqlalchemy.engine.Engine [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,448 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:38,449 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,449 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:38,449 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,449 - sqlalchemy.engine.Engine - INFO - [cached since 398.2s ago] ('6eb32e2d-7acf-4e02-bd9c-07aea724eec4',)
2025-12-11 10:26:38,449 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0116s
INFO:     127.0.0.1:49949 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:38,450 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:38,450 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:40,630 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:26:40,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:40,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:40,634 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:40,634 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:40,634 INFO sqlalchemy.engine.Engine [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,634 - sqlalchemy.engine.Engine - INFO - [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,636 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:40,636 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:40,636 INFO sqlalchemy.engine.Engine [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,636 - sqlalchemy.engine.Engine - INFO - [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,637 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:40,637 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:40,637 INFO sqlalchemy.engine.Engine [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,637 - sqlalchemy.engine.Engine - INFO - [cached since 1059s ago] (UUID('6eb32e2d-7acf-4e02-bd9c-07aea724eec4'),)
2025-12-11 10:26:40,638 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:40,638 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:40,638 INFO sqlalchemy.engine.Engine [cached since 1059s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:40,638 - sqlalchemy.engine.Engine - INFO - [cached since 1059s ago] (UUID('8c60790a-0b70-4630-b909-5d0cde8ce7b2'),)
2025-12-11 10:26:40,639 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:40,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:40,639 - core.database - ERROR - Database session error: Missing required permission: admin:all
Traceback (most recent call last):
  File "/Users/maiwand/INARA-HR/apps/api/core/database.py", line 84, in get_db
    yield session
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/dependencies/utils.py", line 644, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/maiwand/INARA-HR/apps/api/core/dependencies.py", line 111, in __call__
    raise ForbiddenException(
    ...<2 lines>...
    )
core.exceptions.ForbiddenException: Missing required permission: admin:all
2025-12-11 10:26:40,640 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 403 - Time: 0.0095s
INFO:     127.0.0.1:49949 - "GET /api/v1/admin/countries HTTP/1.1" 403 Forbidden
2025-12-11 10:26:48,249 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:26:48,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,255 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,255 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:48,255 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:48,256 INFO sqlalchemy.engine.Engine [cached since 402.7s ago] ('maiwand@inara.org',)
2025-12-11 10:26:48,256 - sqlalchemy.engine.Engine - INFO - [cached since 402.7s ago] ('maiwand@inara.org',)
2025-12-11 10:26:48,261 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,261 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,261 INFO sqlalchemy.engine.Engine [cached since 439.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,261 - sqlalchemy.engine.Engine - INFO - [cached since 439.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,265 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,265 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,265 INFO sqlalchemy.engine.Engine [cached since 439.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,265 - sqlalchemy.engine.Engine - INFO - [cached since 439.2s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,525 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:48,525 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:48,525 INFO sqlalchemy.engine.Engine [cached since 402.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1e9c2859-bc1c-4af4-91d6-9e8d51095f76'), datetime.datetime(2025, 12, 11, 7, 26, 48, 525142), datetime.datetime(2025, 12, 11, 7, 26, 48, 525146), False, None)
2025-12-11 10:26:48,525 - sqlalchemy.engine.Engine - INFO - [cached since 402.7s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('1e9c2859-bc1c-4af4-91d6-9e8d51095f76'), datetime.datetime(2025, 12, 11, 7, 26, 48, 525142), datetime.datetime(2025, 12, 11, 7, 26, 48, 525146), False, None)
2025-12-11 10:26:48,528 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,528 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,528 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,528 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,529 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,529 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,529 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,529 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,530 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,530 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,530 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,530 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,530 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,530 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,530 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,530 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,531 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:48,531 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:48,531 INFO sqlalchemy.engine.Engine [cached since 402.7s ago] (datetime.datetime(2025, 12, 11, 7, 26, 48, 531109), datetime.datetime(2025, 12, 11, 7, 26, 48, 531323), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:26:48,531 - sqlalchemy.engine.Engine - INFO - [cached since 402.7s ago] (datetime.datetime(2025, 12, 11, 7, 26, 48, 531109), datetime.datetime(2025, 12, 11, 7, 26, 48, 531323), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:26:48,532 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:26:48,532 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:26:48,533 - modules.auth.services - INFO - User maiwand@inara.org logged in successfully
2025-12-11 10:26:48,533 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2832s
INFO:     127.0.0.1:49960 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:26:48,539 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:26:48,540 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,541 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,541 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,541 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,541 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,542 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,542 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,542 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,542 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,543 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,543 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,543 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,543 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,543 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,543 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,543 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,543 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,544 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,544 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,544 INFO sqlalchemy.engine.Engine [cached since 1066s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,544 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,544 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,544 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,544 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,544 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,545 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,545 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,545 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,545 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,545 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,545 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,545 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,545 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,546 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0070s
INFO:     127.0.0.1:49960 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:26:48,546 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:48,546 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:48,557 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:48,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,559 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,559 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,559 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,559 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,561 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,561 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,561 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,561 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,562 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,562 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,562 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,562 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,563 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,563 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,563 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,563 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,564 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,564 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,564 INFO sqlalchemy.engine.Engine [cached since 408.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,564 - sqlalchemy.engine.Engine - INFO - [cached since 408.3s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,565 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,565 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,565 INFO sqlalchemy.engine.Engine [cached since 408.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,565 - sqlalchemy.engine.Engine - INFO - [cached since 408.3s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,565 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,565 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,565 INFO sqlalchemy.engine.Engine [cached since 408.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,565 - sqlalchemy.engine.Engine - INFO - [cached since 408.3s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,566 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,566 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,566 INFO sqlalchemy.engine.Engine [cached since 408.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,566 - sqlalchemy.engine.Engine - INFO - [cached since 408.3s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,568 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0106s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:48,568 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:48,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:48,569 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:48,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,571 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,571 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,571 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,571 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,573 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,573 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,573 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,573 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,575 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,575 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,575 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,575 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,576 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,576 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,576 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,576 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,578 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,578 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,578 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,578 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,578 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,578 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,578 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,578 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,579 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,579 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,579 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,579 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,580 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,580 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,580 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,580 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,581 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0119s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:48,582 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:48,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:48,583 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:48,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,585 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,585 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,585 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,585 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,586 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,586 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,586 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,586 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,586 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,586 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,587 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,587 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,587 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,587 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,587 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,587 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,588 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,588 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,588 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,588 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,589 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,589 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,589 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,589 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,590 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,590 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,590 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,590 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,591 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,591 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,591 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,591 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,591 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0086s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:48,592 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:48,592 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:48,592 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:48,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:48,593 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:48,594 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,594 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:48,594 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,594 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,595 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,595 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:48,595 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,595 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,596 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,596 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:48,596 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,596 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:48,597 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,597 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:48,597 INFO sqlalchemy.engine.Engine [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,597 - sqlalchemy.engine.Engine - INFO - [cached since 1066s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:48,598 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,598 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:48,598 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,598 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:48,600 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,600 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:48,600 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,600 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:48,612 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,612 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:48,612 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,612 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:48,617 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,617 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:48,617 INFO sqlalchemy.engine.Engine [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,617 - sqlalchemy.engine.Engine - INFO - [cached since 408.4s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:48,632 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0395s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:48,632 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:48,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:50,793 - main - INFO - üåê POST /api/v1/auth/login - Client: 127.0.0.1
2025-12-11 10:26:50,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:50,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:50,810 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:50,810 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.email = $1::VARCHAR AND users.is_deleted = false
2025-12-11 10:26:50,810 INFO sqlalchemy.engine.Engine [cached since 405.2s ago] ('maiwand@inara.org',)
2025-12-11 10:26:50,810 - sqlalchemy.engine.Engine - INFO - [cached since 405.2s ago] ('maiwand@inara.org',)
2025-12-11 10:26:50,816 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:50,816 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:50,816 INFO sqlalchemy.engine.Engine [cached since 441.8s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:50,816 - sqlalchemy.engine.Engine - INFO - [cached since 441.8s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:50,820 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:50,820 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:50,820 INFO sqlalchemy.engine.Engine [cached since 441.8s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:50,820 - sqlalchemy.engine.Engine - INFO - [cached since 441.8s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,069 INFO sqlalchemy.engine.Engine INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:51,069 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_attempts (user_id, email, ip_address, user_agent, success, failure_reason, id, created_at, updated_at, is_deleted, deleted_at) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::UUID, $8::TIMESTAMP WITHOUT TIME ZONE, $9::TIMESTAMP WITHOUT TIME ZONE, $10::BOOLEAN, $11::TIMESTAMP WITHOUT TIME ZONE)
2025-12-11 10:26:51,069 INFO sqlalchemy.engine.Engine [cached since 405.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('f12fa83f-4000-4e95-b3c8-fd826c50cd83'), datetime.datetime(2025, 12, 11, 7, 26, 51, 69211), datetime.datetime(2025, 12, 11, 7, 26, 51, 69215), False, None)
2025-12-11 10:26:51,069 - sqlalchemy.engine.Engine - INFO - [cached since 405.2s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'), 'maiwand@inara.org', '127.0.0.1', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', True, None, UUID('f12fa83f-4000-4e95-b3c8-fd826c50cd83'), datetime.datetime(2025, 12, 11, 7, 26, 51, 69211), datetime.datetime(2025, 12, 11, 7, 26, 51, 69215), False, None)
2025-12-11 10:26:51,071 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,071 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,071 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,071 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,072 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,072 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,072 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,072 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,072 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,072 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,072 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,072 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,073 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,073 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,073 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,073 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,074 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:51,074 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_login=$1::TIMESTAMP WITHOUT TIME ZONE, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $3::UUID
2025-12-11 10:26:51,074 INFO sqlalchemy.engine.Engine [cached since 405.2s ago] (datetime.datetime(2025, 12, 11, 7, 26, 51, 74077), datetime.datetime(2025, 12, 11, 7, 26, 51, 74287), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:26:51,074 - sqlalchemy.engine.Engine - INFO - [cached since 405.2s ago] (datetime.datetime(2025, 12, 11, 7, 26, 51, 74077), datetime.datetime(2025, 12, 11, 7, 26, 51, 74287), UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'))
2025-12-11 10:26:51,075 INFO sqlalchemy.engine.Engine COMMIT
2025-12-11 10:26:51,075 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-11 10:26:51,076 - modules.auth.services - INFO - User maiwand@inara.org logged in successfully
2025-12-11 10:26:51,076 - main - INFO - ‚úÖ POST /api/v1/auth/login - Status: 200 - Time: 0.2828s
INFO:     127.0.0.1:49960 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-11 10:26:51,081 - main - INFO - üåê GET /api/v1/auth/me - Client: 127.0.0.1
2025-12-11 10:26:51,083 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:51,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:51,083 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,083 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,083 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,083 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,084 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,084 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,084 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,084 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,085 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,085 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,085 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,085 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,085 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,085 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,085 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,085 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,086 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,086 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,086 INFO sqlalchemy.engine.Engine [cached since 1069s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,086 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,086 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,086 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,086 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,086 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,087 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,087 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,087 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,087 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,087 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,087 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,087 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,087 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,088 - main - INFO - ‚úÖ GET /api/v1/auth/me - Status: 200 - Time: 0.0065s
INFO:     127.0.0.1:49960 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2025-12-11 10:26:51,088 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:51,088 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:51,098 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:51,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:51,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:51,100 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,100 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,100 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,100 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,101 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,101 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,101 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,101 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,103 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,103 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,103 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,103 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,104 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,104 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,104 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,104 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,105 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,105 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,105 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,105 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,106 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,106 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,106 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,106 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,106 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,106 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,106 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,106 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,107 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,107 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,107 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,107 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,110 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0112s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:51,110 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:51,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:51,111 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:51,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:51,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:51,117 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,117 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,117 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,117 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,118 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,118 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,118 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,118 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,120 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,120 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,120 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,120 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,121 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,121 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,121 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,121 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,123 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,123 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,123 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,123 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,125 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,125 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,125 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,125 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,126 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,126 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,126 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,126 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,126 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,126 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,126 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,126 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,127 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0164s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:51,127 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:51,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:51,128 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:51,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:51,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:51,129 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,129 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,129 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,129 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,130 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,130 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,130 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,130 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,131 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,131 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,131 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,131 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,132 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,132 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,132 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,132 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,133 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,133 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,133 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,133 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,134 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,134 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,134 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,134 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,134 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,134 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,134 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,134 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,135 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,135 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,135 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,135 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,136 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0078s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:51,136 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:51,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:51,137 - main - INFO - üåê GET /api/v1/dashboard/employee - Client: 127.0.0.1
2025-12-11 10:26:51,138 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:51,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:51,138 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,138 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:51,138 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,138 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,140 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,140 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:51,140 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,140 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,142 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,142 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:51,142 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,142 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:51,157 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,157 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:51,158 INFO sqlalchemy.engine.Engine [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,158 - sqlalchemy.engine.Engine - INFO - [cached since 1069s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:51,163 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,163 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.user_id = $1::UUID
2025-12-11 10:26:51,164 INFO sqlalchemy.engine.Engine [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,164 - sqlalchemy.engine.Engine - INFO - [cached since 410.9s ago] ('754f7a81-baa1-4559-85d8-a8818a8b050e',)
2025-12-11 10:26:51,174 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,174 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:26:51,174 INFO sqlalchemy.engine.Engine [cached since 411s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,174 - sqlalchemy.engine.Engine - INFO - [cached since 411s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:26:51,176 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,176 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:26:51,176 INFO sqlalchemy.engine.Engine [cached since 411s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,176 - sqlalchemy.engine.Engine - INFO - [cached since 411s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:26:51,178 INFO sqlalchemy.engine.Engine SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,178 - sqlalchemy.engine.Engine - INFO - SELECT count(approval_requests.id) AS count_1 
FROM approval_requests 
WHERE approval_requests.approver_id = $1::UUID AND approval_requests.status = $2::approvalstatus
2025-12-11 10:26:51,178 INFO sqlalchemy.engine.Engine [cached since 411s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,178 - sqlalchemy.engine.Engine - INFO - [cached since 411s ago] (UUID('8f65171e-aae6-4c76-84a9-e11fd67fe218'), 'PENDING')
2025-12-11 10:26:51,179 - main - INFO - ‚úÖ GET /api/v1/dashboard/employee - Status: 200 - Time: 0.0421s
INFO:     127.0.0.1:49960 - "GET /api/v1/dashboard/employee HTTP/1.1" 200 OK
2025-12-11 10:26:51,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:51,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:26:54,698 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:26:54,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:26:54,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:26:54,715 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:54,715 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:26:54,715 INFO sqlalchemy.engine.Engine [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,715 - sqlalchemy.engine.Engine - INFO - [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,717 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:54,717 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:26:54,717 INFO sqlalchemy.engine.Engine [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,717 - sqlalchemy.engine.Engine - INFO - [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,720 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:54,720 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:26:54,720 INFO sqlalchemy.engine.Engine [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,720 - sqlalchemy.engine.Engine - INFO - [cached since 1073s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:26:54,723 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:54,723 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:26:54,723 INFO sqlalchemy.engine.Engine [cached since 1073s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:54,723 - sqlalchemy.engine.Engine - INFO - [cached since 1073s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:26:54,726 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:26:54,726 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:26:54,726 INFO sqlalchemy.engine.Engine [cached since 1073s ago] ()
2025-12-11 10:26:54,726 - sqlalchemy.engine.Engine - INFO - [cached since 1073s ago] ()
2025-12-11 10:26:54,729 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0310s
INFO:     127.0.0.1:49960 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:26:54,730 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:26:54,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:04,370 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:27:04,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:04,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:04,377 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:04,377 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:04,377 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,377 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,379 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:04,379 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:04,379 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,379 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,380 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:04,380 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:04,381 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,381 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,384 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:04,384 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:04,384 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:04,384 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:04,387 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:04,387 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:04,387 INFO sqlalchemy.engine.Engine [cached since 442s ago] (100, 0)
2025-12-11 10:27:04,387 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (100, 0)
2025-12-11 10:27:04,389 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:04,389 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:04,389 INFO sqlalchemy.engine.Engine [cached since 444s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:04,389 - sqlalchemy.engine.Engine - INFO - [cached since 444s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:04,391 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:04,391 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:04,392 INFO sqlalchemy.engine.Engine [cached since 444s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:04,392 - sqlalchemy.engine.Engine - INFO - [cached since 444s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:04,393 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0219s
INFO:     127.0.0.1:49964 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:27:04,393 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:04,393 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:04,394 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:27:04,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:04,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:04,397 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:04,397 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:04,398 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,398 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,400 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:04,400 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:04,400 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,400 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,401 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:04,401 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:04,402 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,402 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:04,429 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:04,429 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:04,431 INFO sqlalchemy.engine.Engine [cached since 1082s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:04,431 - sqlalchemy.engine.Engine - INFO - [cached since 1082s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:04,433 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:04,433 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:04,433 INFO sqlalchemy.engine.Engine [cached since 442s ago] (100, 0)
2025-12-11 10:27:04,433 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (100, 0)
2025-12-11 10:27:04,445 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:04,445 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:04,446 INFO sqlalchemy.engine.Engine [cached since 444.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:04,446 - sqlalchemy.engine.Engine - INFO - [cached since 444.1s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:04,462 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:04,462 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:04,462 INFO sqlalchemy.engine.Engine [cached since 444.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:04,462 - sqlalchemy.engine.Engine - INFO - [cached since 444.1s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:04,463 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0691s
INFO:     127.0.0.1:49964 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:27:04,464 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:04,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:06,236 - main - INFO - üåê GET /api/v1/employees/ - Client: 127.0.0.1
2025-12-11 10:27:06,236 - main - INFO - üåê GET /api/v1/employees/departments - Client: 127.0.0.1
2025-12-11 10:27:06,239 - main - INFO - üåê GET /api/v1/employees/positions - Client: 127.0.0.1
2025-12-11 10:27:06,240 - main - INFO - üåê GET /api/v1/admin/countries - Client: 127.0.0.1
2025-12-11 10:27:06,249 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:06,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:06,250 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,250 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,250 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,250 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,251 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:06,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:06,252 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,252 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,252 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,252 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,255 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,255 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,256 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,256 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,259 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,259 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,259 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,259 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,260 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,260 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,260 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,260 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,265 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,265 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,265 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,265 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,271 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,271 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,271 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,271 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:06,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:06,273 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,273 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,273 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,273 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-11 10:27:06,274 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-11 10:27:06,274 INFO sqlalchemy.engine.Engine SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,274 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.hashed_password, users.first_name, users.last_name, users.phone, users.is_active, users.is_verified, users.is_superuser, users.last_login, users.password_changed_at, users.failed_login_attempts, users.locked_until, users.verification_token, users.verification_token_expires, users.reset_token, users.reset_token_expires, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.country_code 
FROM users 
WHERE users.id = $1::UUID AND users.is_deleted = false
2025-12-11 10:27:06,274 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,274 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,277 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,277 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,277 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,277 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,279 INFO sqlalchemy.engine.Engine SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:06,279 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id, employees.employee_number, employees.first_name, employees.middle_name, employees.last_name, employees.preferred_name, employees.date_of_birth, employees.gender, employees.nationality, employees.national_id, employees.passport_number, employees.personal_email, employees.work_email, employees.phone, employees.mobile, employees.country_code, employees.emergency_contact_name, employees.emergency_contact_phone, employees.emergency_contact_relationship, employees.address_line1, employees.address_line2, employees.city, employees.state, employees.postal_code, employees.country, employees.status, employees.employment_type, employees.hire_date, employees.termination_date, employees.probation_end_date, employees.department_id, employees.position_id, employees.manager_id, employees.work_location, employees.profile_photo_url, employees.bio, employees.skills, employees.languages, employees.id, employees.created_at, employees.updated_at, employees.is_deleted, employees.deleted_at, employees.created_by, employees.updated_by, employees.notes 
FROM employees 
WHERE employees.is_deleted = false 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-12-11 10:27:06,279 INFO sqlalchemy.engine.Engine [cached since 443.9s ago] (100, 0)
2025-12-11 10:27:06,279 - sqlalchemy.engine.Engine - INFO - [cached since 443.9s ago] (100, 0)
2025-12-11 10:27:06,285 INFO sqlalchemy.engine.Engine SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:27:06,285 - sqlalchemy.engine.Engine - INFO - SELECT departments.name, departments.code, departments.description, departments.parent_id, departments.head_id, departments.id, departments.created_at, departments.updated_at, departments.is_deleted, departments.deleted_at, departments.country_code 
FROM departments 
WHERE departments.is_deleted = false
2025-12-11 10:27:06,285 INFO sqlalchemy.engine.Engine [cached since 461.8s ago] ()
2025-12-11 10:27:06,285 - sqlalchemy.engine.Engine - INFO - [cached since 461.8s ago] ()
2025-12-11 10:27:06,286 INFO sqlalchemy.engine.Engine SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:06,286 - sqlalchemy.engine.Engine - INFO - SELECT positions.id AS positions_id, positions.title AS positions_title, positions.code AS positions_code, positions.description AS positions_description, positions.level AS positions_level, positions.grade AS positions_grade, positions.created_at AS positions_created_at, positions.updated_at AS positions_updated_at, positions.is_deleted AS positions_is_deleted, positions.deleted_at AS positions_deleted_at, positions.country_code AS positions_country_code 
FROM positions 
WHERE positions.id IN ($1::UUID)
2025-12-11 10:27:06,286 INFO sqlalchemy.engine.Engine [cached since 445.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:06,286 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] (UUID('4870313b-731f-40d2-b338-50ab89d9bea2'),)
2025-12-11 10:27:06,286 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,286 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,286 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,286 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,287 INFO sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,287 - sqlalchemy.engine.Engine - INFO - SELECT users_1.id AS users_1_id, roles.name AS roles_name, roles.display_name AS roles_display_name, roles.description AS roles_description, roles.is_system AS roles_is_system, roles.id AS roles_id, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at, roles.is_deleted AS roles_is_deleted, roles.deleted_at AS roles_deleted_at 
FROM users AS users_1 JOIN user_roles AS user_roles_1 ON users_1.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE users_1.id IN ($1::UUID)
2025-12-11 10:27:06,287 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,287 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,288 INFO sqlalchemy.engine.Engine SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:06,288 - sqlalchemy.engine.Engine - INFO - SELECT departments.id AS departments_id, departments.name AS departments_name, departments.code AS departments_code, departments.description AS departments_description, departments.parent_id AS departments_parent_id, departments.head_id AS departments_head_id, departments.created_at AS departments_created_at, departments.updated_at AS departments_updated_at, departments.is_deleted AS departments_is_deleted, departments.deleted_at AS departments_deleted_at, departments.country_code AS departments_country_code 
FROM departments 
WHERE departments.id IN ($1::UUID)
2025-12-11 10:27:06,288 INFO sqlalchemy.engine.Engine [cached since 445.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:06,288 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] (UUID('a05539f1-f2a7-49c9-b9d1-0a71bc26c8b4'),)
2025-12-11 10:27:06,288 - main - INFO - ‚úÖ GET /api/v1/employees/departments - Status: 200 - Time: 0.0516s
INFO:     127.0.0.1:49966 - "GET /api/v1/employees/departments HTTP/1.1" 200 OK
2025-12-11 10:27:06,289 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,289 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,290 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,290 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,291 INFO sqlalchemy.engine.Engine SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,291 - sqlalchemy.engine.Engine - INFO - SELECT employees.user_id AS employees_user_id, employees.employee_number AS employees_employee_number, employees.first_name AS employees_first_name, employees.middle_name AS employees_middle_name, employees.last_name AS employees_last_name, employees.preferred_name AS employees_preferred_name, employees.date_of_birth AS employees_date_of_birth, employees.gender AS employees_gender, employees.nationality AS employees_nationality, employees.national_id AS employees_national_id, employees.passport_number AS employees_passport_number, employees.personal_email AS employees_personal_email, employees.work_email AS employees_work_email, employees.phone AS employees_phone, employees.mobile AS employees_mobile, employees.country_code AS employees_country_code, employees.emergency_contact_name AS employees_emergency_contact_name, employees.emergency_contact_phone AS employees_emergency_contact_phone, employees.emergency_contact_relationship AS employees_emergency_contact_relationship, employees.address_line1 AS employees_address_line1, employees.address_line2 AS employees_address_line2, employees.city AS employees_city, employees.state AS employees_state, employees.postal_code AS employees_postal_code, employees.country AS employees_country, employees.status AS employees_status, employees.employment_type AS employees_employment_type, employees.hire_date AS employees_hire_date, employees.termination_date AS employees_termination_date, employees.probation_end_date AS employees_probation_end_date, employees.department_id AS employees_department_id, employees.position_id AS employees_position_id, employees.manager_id AS employees_manager_id, employees.work_location AS employees_work_location, employees.profile_photo_url AS employees_profile_photo_url, employees.bio AS employees_bio, employees.skills AS employees_skills, employees.languages AS employees_languages, employees.id AS employees_id, employees.created_at AS employees_created_at, employees.updated_at AS employees_updated_at, employees.is_deleted AS employees_is_deleted, employees.deleted_at AS employees_deleted_at, employees.created_by AS employees_created_by, employees.updated_by AS employees_updated_by, employees.notes AS employees_notes 
FROM employees 
WHERE employees.user_id IN ($1::UUID)
2025-12-11 10:27:06,291 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,291 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('754f7a81-baa1-4559-85d8-a8818a8b050e'),)
2025-12-11 10:27:06,291 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:06,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:06,292 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,292 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,292 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,292 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,293 INFO sqlalchemy.engine.Engine SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,293 - sqlalchemy.engine.Engine - INFO - SELECT roles_1.id AS roles_1_id, permissions.name AS permissions_name, permissions.resource AS permissions_resource, permissions.action AS permissions_action, permissions.description AS permissions_description, permissions.id AS permissions_id, permissions.created_at AS permissions_created_at, permissions.updated_at AS permissions_updated_at, permissions.is_deleted AS permissions_is_deleted, permissions.deleted_at AS permissions_deleted_at 
FROM roles AS roles_1 JOIN role_permissions AS role_permissions_1 ON roles_1.id = role_permissions_1.role_id JOIN permissions ON permissions.id = role_permissions_1.permission_id 
WHERE roles_1.id IN ($1::UUID)
2025-12-11 10:27:06,293 INFO sqlalchemy.engine.Engine [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,293 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] (UUID('a9033173-390f-4bfe-a72f-6bccdeaad905'),)
2025-12-11 10:27:06,293 - main - INFO - ‚úÖ GET /api/v1/employees/ - Status: 200 - Time: 0.0567s
INFO:     127.0.0.1:49964 - "GET /api/v1/employees/ HTTP/1.1" 200 OK
2025-12-11 10:27:06,293 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:06,293 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:06,295 INFO sqlalchemy.engine.Engine SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:27:06,295 - sqlalchemy.engine.Engine - INFO - SELECT country_configs.country_code, country_configs.country_name, country_configs.default_currency, country_configs.timezone, country_configs.working_hours_per_week, country_configs.working_days_per_week, country_configs.public_holidays, country_configs.is_active, country_configs.id, country_configs.created_at, country_configs.updated_at, country_configs.is_deleted, country_configs.deleted_at 
FROM country_configs 
WHERE country_configs.is_deleted = false
2025-12-11 10:27:06,295 INFO sqlalchemy.engine.Engine [cached since 1084s ago] ()
2025-12-11 10:27:06,295 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] ()
2025-12-11 10:27:06,295 INFO sqlalchemy.engine.Engine SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:27:06,295 - sqlalchemy.engine.Engine - INFO - SELECT positions.title, positions.code, positions.description, positions.level, positions.grade, positions.id, positions.created_at, positions.updated_at, positions.is_deleted, positions.deleted_at, positions.country_code 
FROM positions 
WHERE positions.is_deleted = false
2025-12-11 10:27:06,295 INFO sqlalchemy.engine.Engine [cached since 461.8s ago] ()
2025-12-11 10:27:06,295 - sqlalchemy.engine.Engine - INFO - [cached since 461.8s ago] ()
2025-12-11 10:27:06,296 - main - INFO - ‚úÖ GET /api/v1/employees/positions - Status: 200 - Time: 0.0576s
INFO:     127.0.0.1:49969 - "GET /api/v1/employees/positions HTTP/1.1" 200 OK
2025-12-11 10:27:06,297 - main - INFO - ‚úÖ GET /api/v1/admin/countries - Status: 200 - Time: 0.0568s
INFO:     127.0.0.1:49970 - "GET /api/v1/admin/countries HTTP/1.1" 200 OK
2025-12-11 10:27:06,297 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:06,297 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:06,297 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-11 10:27:06,297 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-11 10:27:24,807 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:28:24,808 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:29:24,808 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:30:24,809 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:31:24,809 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:32:24,814 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:33:24,816 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:34:24,818 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:35:24,818 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:36:24,819 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:37:24,841 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:38:24,848 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:39:24,851 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:40:24,850 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:41:24,846 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:42:24,852 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:43:24,856 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:44:24,858 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:45:24,860 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:46:24,864 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:47:24,867 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:48:24,869 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:49:24,872 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:50:24,874 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:51:24,876 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:52:24,888 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:53:24,893 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:54:24,898 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:55:24,900 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:56:24,903 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:57:24,907 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:58:24,914 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 10:59:24,918 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:00:24,922 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:01:24,925 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:02:24,928 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:03:24,932 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:04:24,935 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:05:24,937 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:06:24,939 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:07:24,945 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:08:24,949 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:09:24,952 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:10:24,955 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:11:24,960 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:12:24,965 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:13:24,973 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:14:24,978 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:15:24,979 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:16:24,985 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:17:24,989 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:18:24,993 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:19:24,997 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:20:24,999 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:21:25,002 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:22:25,007 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:23:25,010 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:24:25,016 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:25:25,019 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:26:25,054 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
2025-12-11 11:27:25,068 - core.monitoring - INFO - Pool stats - Available: 20, In use: 0, Utilization: 0.0%
WARNING:  WatchFiles detected changes in 'modules/employees/routes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-11 11:28:08,806 - main - INFO - üëã Shutting down INARA HRIS API...
2025-12-11 11:28:08,808 - core.monitoring - INFO - Database monitoring stopped
2025-12-11 11:28:08,920 - core.database - INFO - üëã Database connections closed
2025-12-11 11:28:08,921 - main - INFO - ‚úÖ Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [65426]
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/employees/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/admin/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/admin/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/models.py', 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/models.py', 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/008_add_tenant_to_payrolls.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/008_add_tenant_to_payrolls.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/008_add_tenant_to_payrolls.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py', 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py', 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/008_add_tenant_to_payrolls.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/008_add_tenant_to_payrolls.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/pdf_generator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/dashboard/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/009_add_country_configs.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/009_add_country_configs.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/009_add_country_configs.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/leave/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/leave/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/leave/routes.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/010_add_leave_module.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/010_add_leave_module.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'alembic/versions/010_add_leave_module.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/employees/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/employees/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/employees/services.py', 'modules/employees/schemas.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'update_employee_fields.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'sync_contracts_to_employment.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'sync_contracts_to_employment.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'sync_contracts_to_employment.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'sync_contracts_to_employment.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'sync_contracts_to_employment.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/models.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'modules/payroll/models.py', 'modules/payroll/services.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fda1e0c0 (most recent call first):
  <no Python frame>
INFO:     Stopping reloader process [20787]
